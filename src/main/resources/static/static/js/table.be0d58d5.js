(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["table"],{"0556":function(e,t,i){"use strict";i("510f")},"08c4":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"crumbs"},[i("el-breadcrumb",{attrs:{separator:"/"}},[i("el-breadcrumb-item",[i("i",{staticClass:"el-icon-lx-cascades"}),e._v(" 食品类型管理\n            ")])],1)],1),i("div",{staticClass:"container"},[i("div",{staticClass:"handle-box"},[i("el-button",{staticClass:"handle-del mr10",attrs:{type:"primary",icon:"el-icon-tickets"},on:{click:e.sixteen_categories}},[e._v("查看大类食品类型")]),i("el-button",{staticClass:"handle-del mr10",attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("增加自定义食品类型")])],1),i("el-table",{ref:"multipleTable",staticClass:"table",staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"","header-cell-class-name":"table-header"}},[i("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[i("el-form-item",{attrs:{label:"自定义食品类型"}},[i("span",[e._v(e._s(t.row.type_name))])]),i("el-form-item",{attrs:{label:"创建时间"}},[i("span",[e._v(e._s(t.row.create_time))])]),i("el-form-item",{attrs:{label:"更新时间"}},[i("span",[e._v(e._s(t.row.last_update_time))])])],1)]}}])}),i("el-table-column",{attrs:{sortable:"",prop:"type_name",label:"自定义食品类型"}}),i("el-table-column",{attrs:{label:"操作",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{staticClass:"red",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(i){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),i("div",{staticClass:"pagination"},[i("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","current-page":e.query.pageIndex,"page-size":e.query.pageSize,total:e.pageTotal},on:{"current-change":e.handlePageChange}})],1)],1),i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"增加自定义食品类型",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("el-form",{attrs:{model:e.addform,rules:e.rules}},[i("el-form-item",{attrs:{prop:"food_type",label:"类型","label-width":e.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:e.addform.food_type,callback:function(t){e.$set(e.addform,"food_type",t)},expression:"addform.food_type"}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addnewsiinformation()}}},[e._v("确 定")])],1)],1),i("el-dialog",{attrs:{title:"大类食品类型",visible:e.sixteencategoriesVisible},on:{"update:visible":function(t){e.sixteencategoriesVisible=t}}},[i("el-table",{ref:"multipleTable",staticClass:"table",staticStyle:{width:"100%"},attrs:{data:e.sixteencategoriesdata,border:"","header-cell-class-name":"table-header"}},[i("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[i("el-form-item",{attrs:{label:"食品大类"}},[i("span",[e._v(e._s(t.row.type_name))])]),i("el-form-item",{attrs:{label:"创建时间"}},[i("span",[e._v(e._s(t.row.create_time))])]),i("el-form-item",{attrs:{label:"更新时间"}},[i("span",[e._v(e._s(t.row.last_update_time))])])],1)]}}])}),i("el-table-column",{attrs:{sortable:"",prop:"type_name",label:"食品大类"}})],1),i("div",{staticClass:"pagination"},[i("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","current-page":e.sixteencategoriesquery.pageIndex,"page-size":e.sixteencategoriesquery.pageSize,total:e.sixteencategoriesquery.pageTotal},on:{"current-change":e.handlesixteencategoriesPageChange}})],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.sixteencategoriesVisible=!1}}},[e._v("取 消")])],1)],1)],1)},n=[],s=(i("365c"),i("f81f")),o={components:{ElCheckbox:s["a"]},name:"foodtypemanagement",data:function(){return{searchname:"",rules:{food_type:[{required:!0,message:"请输入食品类型",trigger:"blur"}]},formLabelWidth:"70px",query:{address:"",name:"",pageIndex:1,pageSize:8},tableData:[],dialogFormVisible:!1,sixteencategoriesVisible:!1,pageTotal:0,form:{},idx:-1,id:-1,addform:{food_type:""},checked:!0,sixteencategoriesdata:[],sixteencategoriesquery:{address:"",name:"",pageIndex:1,pageSize:10,pageTotal:0}}},created:function(){this.getData()},methods:{getData:function(){var e=this;this.$axios.post("/sstype/findcustomizecategories",this.$qs.stringify({pageIndex:this.query.pageIndex,pageSize:this.query.pageSize})).then((function(t){null!=t&&(e.tableData=t.data.data.list,e.pageTotal=t.data.data.total)}))},handleDelete:function(e,t){var i=this;this.$confirm("删除后抽检库中所有抽检点都将不包含该食品类型！！确定要删除吗？","提示",{type:"warning"}).then((function(){i.$axios.post("/sstype/deletecustomizecategories",i.$qs.stringify({id:t.id})).then((function(t){console.log(t),null!=t&&(i.$message.success("删除成功"),i.tableData.splice(e,1))}))})).catch((function(){}))},addnewsiinformation:function(){var e=this;this.$axios.post("/sstype/addcustomizecategories",this.$qs.stringify({food_type:this.addform.food_type})).then((function(t){null!=t&&(null!=e.addform.food_type?(e.$message.success("添加成功！"),e.getData()):e.$message.error("请填写所需信息"))}))},handlePageChange:function(e){this.$set(this.query,"pageIndex",e),this.getData()},sixteen_categories:function(){var e=this;this.sixteencategoriesVisible=!0,this.$axios.post("/sstype/findsixteencategories",this.$qs.stringify({pageIndex:this.sixteencategoriesquery.pageIndex,pageSize:this.sixteencategoriesquery.pageSize})).then((function(t){null!=t&&(e.sixteencategoriesdata=t.data.data,e.sixteencategoriesquery.pageTotal=31)}))},handlesixteencategoriesPageChange:function(e){this.$set(this.sixteencategoriesquery,"pageIndex",e),this.sixteen_categories()}}},r=o,l=(i("770f"),i("0556"),i("4ac2")),c=Object(l["a"])(r,a,n,!1,null,"05640731",null);t["default"]=c.exports},"0915":function(e,t,i){"use strict";i.r(t);var a,n,s,o,r,l,c=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"crumbs"},[i("el-breadcrumb",{attrs:{separator:"/"}},[i("el-breadcrumb-item",[i("i",{staticClass:"el-icon-lx-cascades"}),e._v(" 抽检计划生成\n            ")])],1)],1),i("div",{staticClass:"container"},[i("div",{staticClass:"handle-box"},[i("el-select",{attrs:{placeholder:"切换默认显示城市"},model:{value:e.center,callback:function(t){e.center=t},expression:"center"}},e._l(e.options,(function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),i("el-switch",{staticStyle:{float:"right"},attrs:{"active-text":"公交路线","inactive-text":"驾车路线"},model:{value:e.travelmode,callback:function(t){e.travelmode=t},expression:"travelmode"}}),i("el-button",{staticClass:"handle-del mr10",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-tickets"},on:{click:e.popupdrawer}},[e._v("开始生成抽检计划")])],1),i("baidu-map",{staticClass:"bm-view",attrs:{center:e.center,ak:"svq1mQqPx1vrCaI5r6GiId5pHj9bQ03G","scroll-wheel-zoom":!0},on:{ready:e.handler}},[i("bm-scale",{attrs:{anchor:"BMAP_ANCHOR_TOP_RIGHT"}}),i("bm-navigation",{attrs:{anchor:"BMAP_ANCHOR_BOTTOM_RIGHT"}}),i("bm-marker-clusterer",{attrs:{averageCenter:!0}},e._l(e.markers,(function(e){return i("bm-marker",{attrs:{position:{lng:e[1],lat:e[2]}}},[i("bm-label",{attrs:{content:e[0],labelStyle:{color:"red",fontSize:"4px"},offset:{width:-35,height:30}}})],1)})),1),e.travelmode?i("div",e._l(e.markers,(function(e){return i("bm-transit",{attrs:{start:{lng:e[1],lat:e[2]},end:{lng:e[4],lat:e[5]},"auto-viewport":!0,panel:!1}})})),1):e._e(),e.travelmode?e._e():i("div",e._l(e.markers,(function(e){return i("bm-driving",{attrs:{start:{lng:e[1],lat:e[2]},end:{lng:e[4],lat:e[5]},"auto-viewport":!0,panel:!1}})})),1)],1)],1),i("el-drawer",{ref:"drawer",attrs:{title:"抽检计划生成",visible:e.drawer,direction:"rtl","custom-class":"demo-drawer"},on:{"update:visible":function(t){e.drawer=t}}},[i("div",{staticClass:"demo-drawer__content"},[i("div",{staticClass:"demo-drawer__content"},[i("el-form",{ref:"form",attrs:{model:e.form}},[i("div",{staticStyle:{"margin-top":"20px","margin-left":"20px"}},[i("span",[e._v("选择此次抽检的食品类型数量(必选)")]),e._l(e.foodtypes,(function(t,a){return i("a",[i("div",{staticStyle:{width:"100%"}},[i("el-select",{staticStyle:{"margin-top":"20px"},attrs:{placeholder:"请选择"},model:{value:e.quantityvalue[a],callback:function(t){e.$set(e.quantityvalue,a,t)},expression:"quantityvalue[index]"}},e._l(e.quantity,(function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),i("a",{staticStyle:{"margin-top":"20px","margin-left":"20px"}},[e._v(e._s(t.type_name))])],1)])}))],2),i("div",{staticStyle:{"margin-top":"20px","margin-left":"20px"}},[i("span",[e._v("选择参与此次抽检的抽检主体(必选)")]),i("el-checkbox-group",{model:{value:e.selectedsamplingaccount,callback:function(t){e.selectedsamplingaccount=t},expression:"selectedsamplingaccount"}},e._l(e.samplingaccount,(function(t){return i("el-checkbox",{key:t.id,staticStyle:{"margin-top":"20px"},attrs:{label:t,border:""}},[e._v(e._s(t.s_account))])})),1)],1),i("div",{staticStyle:{"margin-top":"20px","margin-left":"20px"}},[i("span",[e._v("输入此次要抽检多少个商家(必选)")]),i("el-input",{staticStyle:{"margin-top":"20px"},attrs:{placeholder:"请输入此次要抽检多少个商家"},model:{value:e.numbers,callback:function(t){e.numbers=t},expression:"numbers"}})],1),i("div",{staticStyle:{"margin-top":"20px","margin-left":"20px"}},[i("span",[e._v("输入此次抽检的出发点(必选)")]),i("el-input",{staticStyle:{"margin-top":"20px"},attrs:{placeholder:"请输入此次抽检的出发点"},model:{value:e.starting_point,callback:function(t){e.starting_point=t},expression:"starting_point"}})],1)]),i("div",{staticClass:"demo-drawer__footer",staticStyle:{"margin-top":"20px","margin-left":"20px"}},[i("el-button",{on:{click:e.cancelForm}},[e._v("取 消")]),i("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"primary"},on:{click:e.startgenerating}},[e._v("开始生成")])],1)],1)])])],1)},u=[],d=(i("4057"),i("365c"),i("f81f")),p=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.hasBmView?e._e():i("div",{ref:"view",staticStyle:{width:"100%",height:"100%"}}),e._t("default")],2)},h=[],m=i("87f9"),f=m["a"],g=i("4ac2"),b=Object(g["a"])(f,p,h,!1,null,null,null),y=b.exports,v=i("0f87"),_=v["a"],x=Object(g["a"])(_,a,n,!1,null,null,null),k=x.exports,w=i("3d1c"),C=w["a"],S=Object(g["a"])(C,s,o,!1,null,null,null),$=S.exports,I=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",[e._t("default")],2)},M=[],O=(i("e680"),i("39fd")),z=i.n(O),D=i("a89e"),B=i("73f3"),T={name:"bml-marker-clusterer",mixins:[Object(B["a"])("markerClusterer")],props:{gridSize:{type:Object},maxZoom:{type:Number},minClusterSize:{type:Number},styles:{type:Array,default:function(){return[]}},averageCenter:{type:Boolean,default:!1}},watch:{gridSize:{handler:function(e){var t=this.BMap,i=this.originInstance;i.setGridSize(t,e.map)},deep:!0},maxZoom:function(e){var t=this.originInstance;t.setMaxZoom(e)},minClusterSize:{handler:function(e){var t=this.BMap,i=this.originInstance;i.setMinClusterSize(Object(D["d"])(t,e))},deep:!0},styles:{handler:function(e){var t=this.BMap,i=this.originInstance,a=JSON.parse(JSON.stringify(e)).map((function(e){return e.size=e.size&&Object(D["d"])(t,e.size),e}));i.setStyles(a)},deep:!0},averageCenter:function(e){this.reload()}},methods:{load:function(){var e=this,t=this.BMap,i=this.map,a=this.gridSize,n=this.minClusterSize,s=this.maxZoom,o=this.styles,r=this.averageCenter;this.originInstance=new z.a(i,{gridSize:a&&Object(D["d"])(t,a),maxZoom:s,minClusterSize:n&&Object(D["d"])(t,n),styles:o.map((function(e){return e.size=Object(D["d"])(t,e.size),e})),isAverageCenter:r}),this.$nextTick((function(){var i=e.$children.map((function(e){return e.originInstance})).filter((function(e){return e instanceof t.Marker}));e.originInstance.addMarkers(i)}))}},beforeCreate:function(){this.preventChildrenRender=!0}},q=T,j=Object(g["a"])(q,I,M,!1,null,null,null),E=j.exports,L=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._t("default")],2)},P=[],V=i("f6f9"),A=V["a"],F=Object(g["a"])(A,L,P,!1,null,null,null),Z=F.exports,N=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}]},[e._t("default")],2)},W=[],R=i("92a7"),G=R["a"],H=Object(g["a"])(G,N,W,!1,null,null,null),J=H.exports,Y=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.panel,expression:"panel"}]},[e._t("default")],2)},U=[],K=i("dfe4"),X=K["a"],Q=Object(g["a"])(X,Y,U,!1,null,null,null),ee=Q.exports,te=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.panel,expression:"panel"}]},[e._t("default")],2)},ie=[],ae=i("5046"),ne=ae["a"],se=Object(g["a"])(ne,te,ie,!1,null,null,null),oe=se.exports,re=i("5e86"),le={name:"bm-label",render:function(){},mixins:[Object(B["a"])("overlay")],props:{content:{type:String},title:{type:String},offset:{},position:{},labelStyle:{},zIndex:{type:Number,default:0},massClear:{type:Boolean,default:!0}},watch:{content:function(e){this.originInstance.setContent(e)},title:function(e){this.originInstance.setTitle(e)},"offset.width":function(e,t){var i=this.BMap;e.toString()!==t.toString()&&this.originInstance.setOffset(Object(D["d"])(i,{width:e,height:this.offset.height}))},"offset.height":function(e,t){var i=this.BMap;e.toString()!==t.toString()&&this.originInstance.setOffset(Object(D["d"])(i,{width:this.offset.width,height:e}))},"position.lng":function(e,t){var i=this.BMap,a=e;e.toString()!==t.toString()&&a>=-180&&a<=180&&this.originInstance.setCenter(Object(D["c"])(i,{lng:a,lat:this.center.lat}))},"position.lat":function(e,t){var i=this.BMap,a=e;e.toString()!==t.toString()&&a>=-74&&a<=74&&this.originInstance.setCenter(Object(D["c"])(i,{lng:this.center.lng,lat:a}))},labelStyle:{handler:function(e){this.originInstance.setStyle(e)},deep:!0},zIndex:function(e){this.originInstance.setZIndex(e)},massClear:function(e){e?this.originInstance.enableMassClear():this.originInstance.disableMassClear()}},methods:{load:function(){var e=this.BMap,t=this.map,i=this.content,a=this.title,n=this.offset,s=this.position,o=this.labelStyle,r=this.zIndex,l=this.massClear,c=this.$parent,u=new e.Label(i,{offset:Object(D["d"])(e,n),position:Object(D["c"])(e,s),enableMassClear:l});this.originInstance=u;try{c.originInstance.setLabel(u)}catch(d){t.addOverlay(u)}a&&u.setTitle(a),o&&u.setStyle(o),r&&u.setZIndex(r),re["a"].call(this,u)}}},ce=le,ue=Object(g["a"])(ce,r,l,!1,null,null,null),de=ue.exports,pe={components:{ElCheckbox:d["a"],BaiduMap:y,BmScale:k,BmNavigation:$,BmMarkerClusterer:E,BmMarker:Z,BmInfoWindow:J,BmTransit:ee,BmDriving:oe,BmLabel:de},name:"samplinginspectionplangeneration",data:function(){return{options:[{value:"杭州市",label:"杭州市"},{value:"嘉兴市",label:"嘉兴市"},{value:"湖州市",label:"湖州市"},{value:"绍兴市",label:"绍兴市"},{value:"宁波市",label:"宁波市"},{value:"台州市",label:"台州市"},{value:"温州市",label:"温州市"},{value:"金华市",label:"金华市"},{value:"衢州市",label:"衢州市"},{value:"丽水市",label:"丽水市"},{value:"舟山市",label:"舟山市"}],center:"杭州",markers:[],infoWindow:{lng:0,lat:0,show:!1,info:{samplingaddress:""}},activeName:"",travelmode:!1,drawer:!1,loading:!1,form:{},timer:null,quantity:[{value:"0",label:"0"},{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"}],quantityvalue:[],foodtypes:{},typeoffoodselected:[],selectedsamplingaccount:[],samplingaccount:{},numbers:"",starting_point:"",fullscreenLoading:!1}},created:function(){this.getData()},methods:{getData:function(){},handler:function(e){e.BMap,e.map;this.center=localStorage.getItem("city")},infoWindowClose:function(e){this.infoWindow.show=!1},infoWindowOpen:function(e){this.infoWindow.show=!0},lookDetail:function(e,t){},popupdrawer:function(){var e=this;this.foodtypes=[],this.samplingaccount=[],this.quantityvalue=[],this.$axios.post("/ssaccount/selectAllCanParticipatebyadminid",this.$qs.stringify({})).then((function(t){if(null!=t){for(var i=0;i<t.data.data.listaccount.length;i++)e.samplingaccount=t.data.data.listaccount;for(i=0;i<t.data.data.listtype.length;i++)e.foodtypes=t.data.data.listtype,e.quantityvalue[i]=0;e.drawer=!0}}))},startgenerating:function(){var e=this;if(0!=this.selectedsamplingaccount.length&&null!=this.numbers&&""!=this.numbers&&null!=this.starting_point){for(var t=0,i=0;i<this.quantityvalue.length;i++)t+=this.quantityvalue[i];if(t>this.numbers)this.$message.error("抽检商家数量应大于等于抽检食品数量");else{var a=[],n=[];for(i=0;i<this.selectedsamplingaccount.length;i++)a[i]=this.selectedsamplingaccount[i].id;for(i=0;i<this.foodtypes.length;i++)n[i]=this.foodtypes[i].id;var s=this;this.$axios.post("/ssplan/generateplan",this.$qs.stringify({selectedsamplingaccountid:a.toString(),typeoffoodselectedid:n.toString(),quantityvalue:this.quantityvalue.toString(),numbers:this.numbers,starting_point:this.starting_point})).then((function(t){if(null!=t){e.fullscreenLoading=!0,s.markers=[],s.markers=t.data.data.route;var i=t.data.data.message,a=e.$createElement;s.fullscreenLoading=!1,e.$notify({title:"抽检计划生成成功",message:a("i",{style:"color: teal"},i),type:"success",dangerouslyUseHTMLString:!0,duration:0})}})),this.selectedsamplingaccount=[]}}else this.$message.error("请填选必选项！")},handleClose:function(e){var t=this;this.loading||this.$confirm("确定要提交表单吗？").then((function(i){t.loading=!0,t.timer=setTimeout((function(){e(),setTimeout((function(){t.loading=!1}),400)}),2e3)})).catch((function(e){}))},cancelForm:function(){this.drawer=!1,clearTimeout(this.timer)}}},he=pe,me=(i("ed36"),i("e117"),Object(g["a"])(he,c,u,!1,null,"1a4ec5f0",null));t["default"]=me.exports},"0f87":function(e,t,i){"use strict";(function(e){i("ee06");var a=i("73f3"),n=i("a89e");t["a"]={name:"bm-scale",render:function(){},mixins:[Object(a["a"])("control")],props:{anchor:{type:String},offset:{type:Object}},watch:{anchor:function(){this.reload()},offset:function(){this.reload()}},methods:{load:function(){var t=this.BMap,i=this.map,a=this.anchor,s=this.offset;this.originInstance=new t.ScaleControl({anchor:e[a],offset:s&&Object(n["d"])(t,s)}),i.addControl(this.originInstance)}}}}).call(this,i("2409"))},1769:function(e,t,i){},"207f":function(e,t,i){},2645:function(e,t,i){},"272f":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"crumbs"},[i("el-breadcrumb",{attrs:{separator:"/"}},[i("el-breadcrumb-item",[i("i",{staticClass:"el-icon-lx-cascades"}),e._v(" 抽检库管理\n            ")])],1)],1),i("div",{staticClass:"container"},[i("el-table",{ref:"multipleTable",staticClass:"table",staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"","header-cell-class-name":"table-header"},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[i("el-form-item",{attrs:{label:"更新时间"}},[i("span",[e._v(e._s(t.row.last_update_time))])]),i("el-form-item",{attrs:{label:"创建时间"}},[i("span",[e._v(e._s(t.row.create_time))])])],1)]}}])}),i("el-table-column",{attrs:{sortable:"",prop:"type_name",label:"食品类型"}}),i("el-table-column",{attrs:{sortable:"",prop:"value_at_risk",label:"风险值"}}),i("el-table-column",{attrs:{label:"操作",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(i){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")])]}}])})],1),i("div",{staticClass:"pagination"},[i("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","current-page":e.query.pageIndex,"page-size":e.query.pageSize,total:e.pageTotal},on:{"current-change":e.handlePageChange}})],1)],1),i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"编辑",visible:e.editVisible,width:"30%"},on:{"update:visible":function(t){e.editVisible=t}}},[i("el-form",{ref:"form",attrs:{model:e.form,"label-width":"70px"}},[i("el-form-item",{attrs:{label:"食品类型"}},[i("el-input",{attrs:{disabled:!0},model:{value:e.form.type_name,callback:function(t){e.$set(e.form,"type_name",t)},expression:"form.type_name"}})],1),i("el-form-item",{attrs:{label:"风险值"}},[i("el-input",{model:{value:e.form.value_at_risk,callback:function(t){e.$set(e.form,"value_at_risk",t)},expression:"form.value_at_risk"}})],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.editVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.saveEdit}},[e._v("确 定")])],1)],1)],1)},n=[],s=(i("a450"),i("365c"),i("f81f")),o={components:{ElCheckbox:s["a"]},name:"foodriskvaluecontrol",data:function(){return{rules:{jurisdiction:[{required:!0,message:"请输入辖区",trigger:"blur"}]},formLabelWidth:"70px",query:{address:"",name:"",pageIndex:1,pageSize:8},tableData:[],multipleSelection:[],delList:[],editVisible:!1,pageTotal:0,form:{},idx:-1,id:-1}},created:function(){this.getData()},methods:{getData:function(){var e=this;this.$axios.post("/sstype/findsixteencategories",this.$qs.stringify({pageIndex:this.query.pageIndex,pageSize:this.query.pageSize})).then((function(t){null!=t&&(e.tableData=t.data.data,e.pageTotal=31)}))},handleSelectionChange:function(e){this.multipleSelection=e},delAllSelection:function(){var e=this.multipleSelection.length,t="";this.delList=this.delList.concat(this.multipleSelection);for(var i=0;i<e;i++)t+=this.multipleSelection[i].name+" ";this.$message.error("删除了".concat(t)),this.multipleSelection=[]},handleEdit:function(e,t){this.idx=e,this.form=t,this.editVisible=!0},saveEdit:function(){var e=this;this.editVisible=!1,this.$axios.post("/sstype/updatesixteencategories",this.$qs.stringify({id:this.form.id,value_at_risk:this.form.value_at_risk})).then((function(t){null!=t?(e.$set(e.tableData,e.idx,e.form),e.$message.success("修改成功！"),e.getData()):e.getData()}))},handlePageChange:function(e){this.$set(this.query,"pageIndex",e),this.getData()}}},r=o,l=(i("d860"),i("7bb0"),i("4ac2")),c=Object(l["a"])(r,a,n,!1,null,"591b4d71",null);t["default"]=c.exports},3305:function(e,t,i){"use strict";i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return o}));var a=i("a89e");const n=e=>e.lng&&e.lat,s=e=>Object.prototype.toString.call(e).slice(8,-1),o=(e,t)=>n(t)?Object(a["c"])(e,t):t},"39fd":function(e,t,i){(function(t){var a,n;(function(t,i){e.exports=i()})(0,(function(){"use strict";var e="undefined"!==typeof window?window:"undefined"!==typeof t?t:this;function s(t,i){return i={exports:{}},t(i,i.exports,e),i.exports}var o=s((function(e,t,s){(function(s,o){"object"===typeof t?e.exports=o():(a=o,n="function"===typeof a?a.call(t,i,t,e):a,void 0===n||(e.exports=n))})(0,(function(){var e,t=e=t||{version:"1.3.8"},i={};t.guid="$BAIDU$",i[t.guid]=i[t.guid]||{},t.dom=t.dom||{},t.dom.g=function(e){return"string"==typeof e||e instanceof String?document.getElementById(e):e&&e.nodeName&&(1==e.nodeType||9==e.nodeType)?e:null},t.g=t.G=t.dom.g,t.dom.getDocument=function(e){return e=t.dom.g(e),9==e.nodeType?e:e.ownerDocument||e.document},t.lang=t.lang||{},t.lang.isString=function(e){return"[object String]"==Object.prototype.toString.call(e)},t.isString=t.lang.isString,t.dom._g=function(e){return t.lang.isString(e)?document.getElementById(e):e},t._g=t.dom._g,t.browser=t.browser||{},/msie (\d+\.\d)/i.test(navigator.userAgent)&&(t.browser.ie=t.ie=document.documentMode||+RegExp["$1"]),t.dom.getComputedStyle=function(e,i){e=t.dom._g(e);var a,n=t.dom.getDocument(e);return n.defaultView&&n.defaultView.getComputedStyle&&(a=n.defaultView.getComputedStyle(e,null),a)?a[i]||a.getPropertyValue(i):""},t.dom._styleFixer=t.dom._styleFixer||{},t.dom._styleFilter=t.dom._styleFilter||[],t.dom._styleFilter.filter=function(e,i,a){for(var n,s=0,o=t.dom._styleFilter;n=o[s];s++)(n=n[a])&&(i=n(e,i));return i},t.string=t.string||{},t.string.toCamelCase=function(e){return e.indexOf("-")<0&&e.indexOf("_")<0?e:e.replace(/[-_][^-_]/g,(function(e){return e.charAt(1).toUpperCase()}))},t.dom.getStyle=function(e,i){var a=t.dom;e=a.g(e),i=t.string.toCamelCase(i);var n=e.style[i]||(e.currentStyle?e.currentStyle[i]:"")||a.getComputedStyle(e,i);if(!n){var s=a._styleFixer[i];s&&(n=s.get?s.get(e):t.dom.getStyle(e,s))}return(s=a._styleFilter)&&(n=s.filter(i,n,"get")),n},t.getStyle=t.dom.getStyle,/opera\/(\d+\.\d)/i.test(navigator.userAgent)&&(t.browser.opera=+RegExp["$1"]),t.browser.isWebkit=/webkit/i.test(navigator.userAgent),t.browser.isGecko=/gecko/i.test(navigator.userAgent)&&!/like gecko/i.test(navigator.userAgent),t.browser.isStrict="CSS1Compat"==document.compatMode,t.dom.getPosition=function(e){e=t.dom.g(e);var i,a,n=t.dom.getDocument(e),s=t.browser,o=t.dom.getStyle,r=(s.isGecko>0&&n.getBoxObjectFor&&"absolute"==o(e,"position")&&(""===e.style.top||e.style.left),{left:0,top:0}),l=s.ie&&!s.isStrict?n.body:n.documentElement;if(e==l)return r;if(e.getBoundingClientRect){a=e.getBoundingClientRect(),r.left=Math.floor(a.left)+Math.max(n.documentElement.scrollLeft,n.body.scrollLeft),r.top=Math.floor(a.top)+Math.max(n.documentElement.scrollTop,n.body.scrollTop),r.left-=n.documentElement.clientLeft,r.top-=n.documentElement.clientTop;var c=n.body,u=parseInt(o(c,"borderLeftWidth")),d=parseInt(o(c,"borderTopWidth"));s.ie&&!s.isStrict&&(r.left-=isNaN(u)?2:u,r.top-=isNaN(d)?2:d)}else{i=e;do{if(r.left+=i.offsetLeft,r.top+=i.offsetTop,s.isWebkit>0&&"fixed"==o(i,"position")){r.left+=n.body.scrollLeft,r.top+=n.body.scrollTop;break}i=i.offsetParent}while(i&&i!=e);(s.opera>0||s.isWebkit>0&&"absolute"==o(e,"position"))&&(r.top-=n.body.offsetTop),i=e.offsetParent;while(i&&i!=n.body)r.left-=i.scrollLeft,s.opera&&"TR"==i.tagName||(r.top-=i.scrollTop),i=i.offsetParent}return r},t.event=t.event||{},t.event._listeners=t.event._listeners||[],t.event.on=function(e,i,a){i=i.replace(/^on/i,""),e=t.dom._g(e);var n,s=function(t){a.call(e,t)},o=t.event._listeners,r=t.event._eventFilter,l=i;return i=i.toLowerCase(),r&&r[i]&&(n=r[i](e,i,s),l=n.type,s=n.listener),e.addEventListener?e.addEventListener(l,s,!1):e.attachEvent&&e.attachEvent("on"+l,s),o[o.length]=[e,i,a,s,l],e},t.on=t.event.on,function(){var e=i[t.guid];t.lang.guid=function(){return"TANGRAM__"+(e._counter++).toString(36)},e._counter=e._counter||1}(),i[t.guid]._instances=i[t.guid]._instances||{},t.lang.isFunction=function(e){return"[object Function]"==Object.prototype.toString.call(e)},t.lang.Class=function(e){this.guid=e||t.lang.guid(),i[t.guid]._instances[this.guid]=this},i[t.guid]._instances=i[t.guid]._instances||{},t.lang.Class.prototype.dispose=function(){for(var e in delete i[t.guid]._instances[this.guid],this)t.lang.isFunction(this[e])||delete this[e];this.disposed=!0},t.lang.Class.prototype.toString=function(){return"[object "+(this._className||"Object")+"]"},t.lang.Event=function(e,t){this.type=e,this.returnValue=!0,this.target=t||null,this.currentTarget=null},t.lang.Class.prototype.addEventListener=function(e,i,a){if(t.lang.isFunction(i)){!this.__listeners&&(this.__listeners={});var n,s=this.__listeners;if("string"==typeof a&&a){if(/[^\w\-]/.test(a))throw"nonstandard key:"+a;i.hashCode=a,n=a}0!=e.indexOf("on")&&(e="on"+e),"object"!=typeof s[e]&&(s[e]={}),n=n||t.lang.guid(),i.hashCode=n,s[e][n]=i}},t.lang.Class.prototype.removeEventListener=function(e,i){if("undefined"==typeof i||(!t.lang.isFunction(i)||(i=i.hashCode))&&t.lang.isString(i)){!this.__listeners&&(this.__listeners={}),0!=e.indexOf("on")&&(e="on"+e);var a=this.__listeners;if(a[e])if("undefined"!=typeof i)a[e][i]&&delete a[e][i];else for(var n in a[e])delete a[e][n]}},t.lang.Class.prototype.dispatchEvent=function(e,i){for(var a in t.lang.isString(e)&&(e=new t.lang.Event(e)),!this.__listeners&&(this.__listeners={}),i=i||{},i)e[a]=i[a];var n=this.__listeners,s=e.type;if(e.target=e.target||this,e.currentTarget=this,0!=s.indexOf("on")&&(s="on"+s),t.lang.isFunction(this[s])&&this[s].apply(this,arguments),"object"==typeof n[s])for(a in n[s])n[s][a].apply(this,arguments);return e.returnValue},t.lang.inherits=function(e,t,i){var a,n,s=e.prototype,o=new Function;for(a in o.prototype=t.prototype,n=e.prototype=new o,s)n[a]=s[a];e.prototype.constructor=e,e.superClass=t.prototype,"string"==typeof i&&(n._className=i)},t.inherits=t.lang.inherits;var a="http://api.map.baidu.com/library/TextIconOverlay/1.2/src/images/m",n="png",s=function(t,i,a){try{BMap}catch(n){throw Error("Baidu Map JS API is not ready yet!")}e.lang.inherits(s,BMap.Overlay,"TextIconOverlay"),this._position=t,this._text=i,this._options=a||{},this._styles=this._options["styles"]||[],!this._styles.length&&this._setupDefaultStyles()};return s.prototype._setupDefaultStyles=function(){for(var e,t=[53,56,66,78,90],i=0;e=t[i];i++)this._styles.push({url:a+i+"."+n,size:new BMap.Size(e,e)})},s.prototype.initialize=function(e){return this._map=e,this._domElement=document.createElement("div"),this._updateCss(),this._updateText(),this._updatePosition(),this._bind(),this._map.getPanes().markerMouseTarget.appendChild(this._domElement),this._domElement},s.prototype.draw=function(){this._map&&this._updatePosition()},s.prototype.getText=function(){return this._text},s.prototype.setText=function(e){!e||this._text&&this._text.toString()==e.toString()||(this._text=e,this._updateText(),this._updateCss(),this._updatePosition())},s.prototype.getPosition=function(){return this._position},s.prototype.setPosition=function(e){!e||this._position&&this._position.equals(e)||(this._position=e,this._updatePosition())},s.prototype.getStyleByText=function(e,t){var i=parseInt(e),a=parseInt(i/10);return a=Math.max(0,a),a=Math.min(a,t.length-1),t[a]},s.prototype._updateCss=function(){if(this._domElement){var e=this.getStyleByText(this._text,this._styles);this._domElement.style.cssText=this._buildCssText(e)}},s.prototype._updateText=function(){this._domElement&&(this._domElement.innerHTML=this._text)},s.prototype._updatePosition=function(){if(this._domElement&&this._position){var e=this._domElement.style,t=this._map.pointToOverlayPixel(this._position);t.x-=Math.ceil(parseInt(e.width)/2),t.y-=Math.ceil(parseInt(e.height)/2),e.left=t.x+"px",e.top=t.y+"px"}},s.prototype._buildCssText=function(t){var i=t["url"],a=t["size"],n=t["anchor"],s=t["offset"],o=t["textColor"]||"black",r=t["textSize"]||10,l=[];if(e.browser["ie"]<7)l.push('filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod=scale,src="'+i+'");');else{l.push("background-image:url("+i+");");var c="0 0";s instanceof BMap.Size&&(c=s.width+"px "+s.height+"px"),l.push("background-position:"+c+";")}return a instanceof BMap.Size&&(n instanceof BMap.Size?(n.height>0&&n.height<a.height&&l.push("height:"+(a.height-n.height)+"px; padding-top:"+n.height+"px;"),n.width>0&&n.width<a.width&&l.push("width:"+(a.width-n.width)+"px; padding-left:"+n.width+"px;")):(l.push("height:"+a.height+"px; line-height:"+a.height+"px;"),l.push("width:"+a.width+"px; text-align:center;"))),l.push("cursor:pointer; color:"+o+"; position:absolute; font-size:"+r+"px; font-family:Arial,sans-serif; font-weight:bold"),l.join("")},s.prototype._bind=function(){if(this._domElement){var t=this,i=this._map,a=e.lang.Event;e.event.on(this._domElement,"mouseover",(function(e){t.dispatchEvent(n(e,new a("onmouseover")))})),e.event.on(this._domElement,"mouseout",(function(e){t.dispatchEvent(n(e,new a("onmouseout")))})),e.event.on(this._domElement,"click",(function(e){t.dispatchEvent(n(e,new a("onclick")))}))}function n(t,a){var n=t.srcElement||t.target,s=t.clientX||t.pageX,o=t.clientY||t.pageY;if(t&&a&&s&&o&&n){var r=e.dom.getPosition(i.getContainer());a.pixel=new BMap.Pixel(s-r.left,o-r.top),a.point=i.pixelToPoint(a.pixel)}return a}},s}))})),r=o&&"object"===typeof o&&"default"in o?o["default"]:o,l=function(e,t,i){t=c(t);var a=e.pointToPixel(t.getNorthEast()),n=e.pointToPixel(t.getSouthWest());a.x+=i,a.y-=i,n.x-=i,n.y+=i;var s=e.pixelToPoint(a),o=e.pixelToPoint(n);return new BMap.Bounds(o,s)},c=function(e){var t=u(e.getNorthEast().lng,-180,180),i=u(e.getSouthWest().lng,-180,180),a=u(e.getNorthEast().lat,-74,74),n=u(e.getSouthWest().lat,-74,74);return new BMap.Bounds(new BMap.Point(i,n),new BMap.Point(t,a))},u=function(e,t,i){return t&&(e=Math.max(e,t)),i&&(e=Math.min(e,i)),e},d=function(e){return"[object Array]"===Object.prototype.toString.call(e)},p=function(e,t){var i=-1;if(d(t))if(t.indexOf)i=t.indexOf(e);else for(var a,n=0;a=t[n];n++)if(a===e){i=n;break}return i},h=function(e,t){try{BMap}catch(s){throw Error("Baidu Map JS API is not ready yet!")}if(e){this._map=e,this._markers=[],this._clusters=[];var i=t||{};this._gridSize=i["gridSize"]||60,this._maxZoom=i["maxZoom"]||18,this._minClusterSize=i["minClusterSize"]||2,this._isAverageCenter=!1,void 0!=i["isAverageCenter"]&&(this._isAverageCenter=i["isAverageCenter"]),this._styles=i["styles"]||[];var a=this;this._map.addEventListener("zoomend",(function(){a._redraw()})),this._map.addEventListener("moveend",(function(){a._redraw()}));var n=i["markers"];d(n)&&this.addMarkers(n)}};function m(e){this._markerClusterer=e,this._map=e.getMap(),this._minClusterSize=e.getMinClusterSize(),this._isAverageCenter=e.isAverageCenter(),this._center=null,this._markers=[],this._gridBounds=null,this._isReal=!1,this._clusterMarker=new r(this._center,this._markers.length,{styles:this._markerClusterer.getStyles()})}return h.prototype.addMarkers=function(e){if(e.length){for(var t=0,i=e.length;t<i;t++)this._pushMarkerTo(e[t]);this._createClusters()}},h.prototype._pushMarkerTo=function(e){var t=p(e,this._markers);-1===t&&(e.isInCluster=!1,this._markers.push(e))},h.prototype.addMarker=function(e){this._pushMarkerTo(e),this._createClusters()},h.prototype._createClusters=function(){var e=this._map.getBounds();if(e.getCenter())for(var t,i=l(this._map,e,this._gridSize),a=0;t=this._markers[a];a++)!t.isInCluster&&i.containsPoint(t.getPosition())&&this._addToClosestCluster(t)},h.prototype._addToClosestCluster=function(e){for(var t=4e6,i=null,a=(e.getPosition(),0);o=this._clusters[a];a++){var n=o.getCenter();if(n){var s=this._map.getDistance(n,e.getPosition());s<t&&(t=s,i=o)}}if(i&&i.isMarkerInClusterBounds(e))i.addMarker(e);else{var o=new m(this);o.addMarker(e),this._clusters.push(o)}},h.prototype._clearLastClusters=function(){for(var e,t=0;e=this._clusters[t];t++)e.remove();this._clusters=[],this._removeMarkersFromCluster()},h.prototype._removeMarkersFromCluster=function(){for(var e,t=0;e=this._markers[t];t++)e.isInCluster=!1},h.prototype._removeMarkersFromMap=function(){for(var e,t=0;e=this._markers[t];t++){e.isInCluster=!1;var i=e.getLabel();this._map.removeOverlay(e),e.setLabel(i)}},h.prototype._removeMarker=function(e){var t=p(e,this._markers);return-1!==t&&(this._map.removeOverlay(e),this._markers.splice(t,1),!0)},h.prototype.removeMarker=function(e){var t=this._removeMarker(e);return t&&(this._clearLastClusters(),this._createClusters()),t},h.prototype.removeMarkers=function(e){for(var t=!1,i=0;i<e.length;i++){var a=this._removeMarker(e[i]);t=t||a}return t&&(this._clearLastClusters(),this._createClusters()),t},h.prototype.clearMarkers=function(){this._clearLastClusters(),this._removeMarkersFromMap(),this._markers=[]},h.prototype._redraw=function(){this._clearLastClusters(),this._createClusters()},h.prototype.getGridSize=function(){return this._gridSize},h.prototype.setGridSize=function(e){this._gridSize=e,this._redraw()},h.prototype.getMaxZoom=function(){return this._maxZoom},h.prototype.setMaxZoom=function(e){this._maxZoom=e,this._redraw()},h.prototype.getStyles=function(){return this._styles},h.prototype.setStyles=function(e){this._styles=e,this._redraw()},h.prototype.getMinClusterSize=function(){return this._minClusterSize},h.prototype.setMinClusterSize=function(e){this._minClusterSize=e,this._redraw()},h.prototype.isAverageCenter=function(){return this._isAverageCenter},h.prototype.getMap=function(){return this._map},h.prototype.getMarkers=function(){return this._markers},h.prototype.getClustersCount=function(){for(var e,t=0,i=0;e=this._clusters[i];i++)e.isReal()&&t++;return t},m.prototype.addMarker=function(e){if(this.isMarkerInCluster(e))return!1;if(this._center){if(this._isAverageCenter){var t=this._markers.length+1,i=(this._center.lat*(t-1)+e.getPosition().lat)/t,a=(this._center.lng*(t-1)+e.getPosition().lng)/t;this._center=new BMap.Point(a,i),this.updateGridBounds()}}else this._center=e.getPosition(),this.updateGridBounds();e.isInCluster=!0,this._markers.push(e);var n=this._markers.length;if(n<this._minClusterSize)return this._map.addOverlay(e),!0;if(n===this._minClusterSize)for(var s=0;s<n;s++){var o=this._markers[s].getLabel();this._markers[s].getMap()&&this._map.removeOverlay(this._markers[s]),this._markers[s].setLabel(o)}return this._map.addOverlay(this._clusterMarker),this._isReal=!0,this.updateClusterMarker(),!0},m.prototype.isMarkerInCluster=function(e){if(this._markers.indexOf)return-1!=this._markers.indexOf(e);for(var t,i=0;t=this._markers[i];i++)if(t===e)return!0;return!1},m.prototype.isMarkerInClusterBounds=function(e){return this._gridBounds.containsPoint(e.getPosition())},m.prototype.isReal=function(e){return this._isReal},m.prototype.updateGridBounds=function(){var e=new BMap.Bounds(this._center,this._center);this._gridBounds=l(this._map,e,this._markerClusterer.getGridSize())},m.prototype.updateClusterMarker=function(){if(this._map.getZoom()>this._markerClusterer.getMaxZoom()){this._clusterMarker&&this._map.removeOverlay(this._clusterMarker);for(var e,t=0;e=this._markers[t];t++)this._map.addOverlay(e)}else this._markers.length<this._minClusterSize?this._clusterMarker.hide():(this._clusterMarker.setPosition(this._center),this._clusterMarker.setText(this._markers.length),this._clusterMarker.addEventListener&&!this._clusterMarker._hasClickEvent&&this._clusterMarker.addEventListener("click",function(e){this._clusterMarker._hasClickEvent=!0,this._markers&&this._map.setViewport(this.getBounds())}.bind(this)))},m.prototype.remove=function(){for(var e=0;this._markers[e];e++){var t=this._markers[e].getLabel();this._markers[e].getMap()&&this._map.removeOverlay(this._markers[e]),this._markers[e].setLabel(t)}this._map.removeOverlay(this._clusterMarker),this._markers.length=0,delete this._markers},m.prototype.getBounds=function(){for(var e,t=new BMap.Bounds(this._center,this._center),i=0;e=this._markers[i];i++)t.extend(e.getPosition());return t},m.prototype.getCenter=function(){return this._center},h}))}).call(this,i("2409"))},"3b11":function(e,t,i){},"3d1c":function(e,t,i){"use strict";(function(e){i("ee06");var a=i("73f3"),n=i("a89e");t["a"]={name:"bm-navigation",render:function(){},mixins:[Object(a["a"])("control")],props:{anchor:{type:String},offset:{type:Object},type:{type:String},showZoomInfo:{type:Boolean},enableGeolocation:{type:Boolean,default:!1}},watch:{anchor:function(){this.reload()},offset:function(){this.reload()},type:function(){this.reload()},showZoomInfo:function(){this.reload()}},methods:{load:function(){var t=this.BMap,i=this.map,a=this.anchor,s=this.offset,o=this.type,r=this.showZoomInfo,l=this.enableGeolocation;this.originInstance=new t.NavigationControl({anchor:e[a],offset:s&&Object(n["d"])(t,s),type:e[o],showZoomInfo:r,enableGeolocation:l}),i.addControl(this.originInstance)}}}}).call(this,i("2409"))},"3e92":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"crumbs"},[i("el-breadcrumb",{attrs:{separator:"/"}},[i("el-breadcrumb-item",[i("i",{staticClass:"el-icon-lx-cascades"}),e._v(" 基础表格\n            ")])],1)],1),i("div",{staticClass:"container"},[i("div",{staticClass:"handle-box"},[i("el-button",{staticClass:"handle-del mr10",attrs:{type:"primary",icon:"el-icon-delete"},on:{click:e.delAllSelection}},[e._v("批量删除")]),i("el-select",{staticClass:"handle-select mr10",attrs:{placeholder:"地址"},model:{value:e.query.address,callback:function(t){e.$set(e.query,"address",t)},expression:"query.address"}},[i("el-option",{key:"1",attrs:{label:"广东省",value:"广东省"}}),i("el-option",{key:"2",attrs:{label:"湖南省",value:"湖南省"}})],1),i("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"用户名"},model:{value:e.query.name,callback:function(t){e.$set(e.query,"name",t)},expression:"query.name"}}),i("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleSearch}},[e._v("搜索")])],1),i("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:e.tableData,border:"","header-cell-class-name":"table-header"},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),i("el-table-column",{attrs:{prop:"id",label:"ID",width:"55",align:"center"}}),i("el-table-column",{attrs:{prop:"name",label:"用户名"}}),i("el-table-column",{attrs:{label:"账户余额"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("￥"+e._s(t.row.money))]}}])}),i("el-table-column",{attrs:{label:"头像(查看大图)",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[i("el-image",{staticClass:"table-td-thumb",attrs:{src:e.row.thumb,"preview-src-list":[e.row.thumb]}})]}}])}),i("el-table-column",{attrs:{prop:"address",label:"地址"}}),i("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-tag",{attrs:{type:"成功"===t.row.state?"success":"失败"===t.row.state?"danger":""}},[e._v(e._s(t.row.state))])]}}])}),i("el-table-column",{attrs:{prop:"date",label:"注册时间"}}),i("el-table-column",{attrs:{label:"操作",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(i){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),i("el-button",{staticClass:"red",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(i){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),i("div",{staticClass:"pagination"},[i("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","current-page":e.query.pageIndex,"page-size":e.query.pageSize,total:e.pageTotal},on:{"current-change":e.handlePageChange}})],1)],1),i("el-dialog",{attrs:{title:"编辑",visible:e.editVisible,width:"30%"},on:{"update:visible":function(t){e.editVisible=t}}},[i("el-form",{ref:"form",attrs:{model:e.form,"label-width":"70px"}},[i("el-form-item",{attrs:{label:"用户名"}},[i("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),i("el-form-item",{attrs:{label:"地址"}},[i("el-input",{model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.editVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.saveEdit}},[e._v("确 定")])],1)],1)],1)},n=[],s=(i("a450"),i("365c")),o={name:"basetable",data:function(){return{query:{address:"",name:"",pageIndex:1,pageSize:10},tableData:[],multipleSelection:[],delList:[],editVisible:!1,pageTotal:0,form:{},idx:-1,id:-1}},created:function(){this.getData()},methods:{getData:function(){var e=this;Object(s["b"])(this.query).then((function(t){console.log(t),e.tableData=t.list,e.pageTotal=t.pageTotal||50}))},handleSearch:function(){this.$set(this.query,"pageIndex",1),this.getData()},handleDelete:function(e,t){var i=this;this.$confirm("确定要删除吗？","提示",{type:"warning"}).then((function(){i.$message.success("删除成功"),i.tableData.splice(e,1)})).catch((function(){}))},handleSelectionChange:function(e){this.multipleSelection=e},delAllSelection:function(){var e=this.multipleSelection.length,t="";this.delList=this.delList.concat(this.multipleSelection);for(var i=0;i<e;i++)t+=this.multipleSelection[i].name+" ";this.$message.error("删除了".concat(t)),this.multipleSelection=[]},handleEdit:function(e,t){this.idx=e,this.form=t,this.editVisible=!0},saveEdit:function(){this.editVisible=!1,this.$message.success("修改第 ".concat(this.idx+1," 行成功")),this.$set(this.tableData,this.idx,this.form)},handlePageChange:function(e){this.$set(this.query,"pageIndex",e),this.getData()}}},r=o,l=(i("b4b7"),i("4ac2")),c=Object(l["a"])(r,a,n,!1,null,"8eea1834",null);t["default"]=c.exports},4901:function(e,t,i){},"4c06":function(e,t,i){},5046:function(e,t,i){"use strict";(function(e){i("d91d"),i("e680");var a=i("a89e"),n=i("3305"),s=i("73f3");t["a"]={name:"bm-driving",mixins:[Object(s["a"])("search")],props:{location:{type:[Object,String]},start:{type:[Object,String]},end:{type:[Object,String]},startCity:{type:[String,Number]},endCity:{type:[String,Number]},waypoints:{type:Array},policy:{type:String},panel:{type:Boolean,default:!0},autoViewport:{type:Boolean},selectFirstResult:{type:Boolean}},watch:{location:{handler:function(e){var t=this.originInstance,i=this.map;t.setLocation(e||i)},deep:!0},start:{handler:function(e){var t=this.originInstance,i=this.end,a=this.startCity,s=this.endCity,o=this.waypoints,r=this.BMap,l=this.getWaypoints;t.search(Object(n["b"])(r,e),Object(n["b"])(r,i),{startCity:a,endCity:s,waypoints:l(o)})},deep:!0},end:{handler:function(e){var t=this.originInstance,i=this.start,a=this.startCity,s=this.endCity,o=this.waypoints,r=this.BMap,l=this.getWaypoints;t.search(Object(n["b"])(r,i),Object(n["b"])(r,e),{startCity:a,endCity:s,waypoints:l(o)})},deep:!0},startCity:function(e){var t=this.originInstance,i=this.start,a=this.end,n=this.endCity,s=this.waypoints,o=this.getWaypoints;t.search(i,a,{val:e,endCity:n,waypoints:o(s)})},endCity:function(e){var t=this.originInstance,i=this.start,a=this.end,n=this.startCity,s=this.waypoints,o=this.getWaypoints;t.search(i,a,{startCity:n,val:e,waypoints:o(s)})},waypoints:{handler:function(e){var t=this.originInstance,i=this.start,a=this.end,n=this.startCity,s=this.endCity,o=this.getWaypoints;t.search(i,a,{startCity:n,endCity:s,waypoints:o(e)})},deep:!0},panel:function(){this.reload()},policy:function(e){this.reload()},autoViewport:function(){this.reload()},selectFirstResult:function(){this.reload()},highlightMode:function(){this.reload()}},methods:{search:function(e,t,i){var a=i.startCity,n=i.endCity,s=i.waypoints,o=this.originInstance,r=this.getWaypoints;o.search(e,t,{startCity:a,endCity:n,waypoints:r(s)})},getWaypoints:function(e){var t=this.BMap;if(e)return e.map((function(e){return Object(n["b"])(t,e)}))},load:function(){var t=this,i=this.map,s=this.BMap,o=this.location,r=this.policy,l=this.selectFirstResult,c=this.autoViewport,u=this.highlightMode,d=this.search,p=this.start,h=this.end,m=this.startCity,f=this.endCity,g=this.waypoints,b=this.originInstance,y=this.getWaypoints,v=o?Object(n["c"])(o)?Object(a["c"])(s,o):o:i,_=this.originInstance=new s.DrivingRoute(v,{renderOptions:{map:i,panel:this.$el,selectFirstResult:l,autoViewport:c,highlightMode:u},policy:e[r],onSearchComplete:function(e){b&&b!==_&&b.clearResults(),t.$emit("searchcomplete",e)},onMarkersSet:function(e){t.$emit("markersset",e)},onInfoHtmlSet:function(e){t.$emit("infohtmlset",e)},onPolylinesSet:function(e){t.$emit("polylinesset",e)},onResultsHtmlSet:function(e){t.$emit("resultshtmlset",e)}});d(Object(n["b"])(s,p),Object(n["b"])(s,h),{startCity:m,endCity:f,waypoints:y(g)})}}}}).call(this,i("2409"))},"510f":function(e,t,i){},"511a":function(e,t,i){},"51b9":function(e,t,i){"use strict";function a(e,t,i){this.$children.forEach(n=>{var s=n.$options.componentName;s===e?n.$emit.apply(n,[t].concat(i)):a.apply(n,[e,t].concat([i]))})}t["a"]={methods:{dispatch(e,t,i){var a=this.$parent||this.$root,n=a.$options.componentName;while(a&&(!n||n!==e))a=a.$parent,a&&(n=a.$options.componentName);a&&a.$emit.apply(a,[t].concat(i))},broadcast(e,t,i){a.call(this,e,t,i)}}}},"5e86":function(e,t,i){"use strict";var a={"bm-map":["click","dblclick","rightclick","rightdblclick","maptypechange","mousemove","mouseover","mouseout","movestart","moving","moveend","zoomstart","zoomend","addoverlay","addcontrol","removecontrol","removeoverlay","clearoverlays","dragstart","dragging","dragend","addtilelayer","removetilelayer","load","resize","hotspotclick","hotspotover","hotspotout","tilesloaded","touchstart","touchmove","touchend","longpress"],"bm-geolocation":["locationSuccess","locationError"],"bm-overview-map":["viewchanged","viewchanging"],"bm-marker":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","infowindowclose","infowindowopen","dragstart","dragging","dragend","rightclick"],"bm-polyline":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","lineupdate"],"bm-polygon":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","lineupdate"],"bm-circle":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","lineupdate"],"bm-label":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","rightclick"],"bm-info-window":["close","open","maximize","restore","clickclose"],"bm-ground":["click","dblclick"],"bm-autocomplete":["onconfirm","onhighlight"],"bm-point-collection":["click","mouseover","mouseout"]};t["a"]=function(e,t){const i=t||a[this.$options.name];i&&i.forEach(t=>{const i="on"===t.slice(0,2),a=i?t.slice(2):t,n=this.$listeners[a];n&&e.addEventListener(t,n.fns)})}},7030:function(e,t,i){},"73f3":function(e,t,i){"use strict";const a={control:{unload:"removeControl"},layer:{unload:"removeTileLayer"},overlay:{unload:"removeOverlay"},contextMenu:{unload:"removeContextMenu"}},n=e=>e.abstract||e.$el===e.$children[0].$el?n(e.$parent):e;function s(){const{unload:e,renderByParent:t,$parent:i}=this;t&&i.reload(),e()}class o{constructor(e){this.methods={ready(){const e=n(this.$parent),t=this.BMap=e.BMap,i=this.map=e.map;this.load(),this.$emit("ready",{BMap:t,map:i})},transmitEvent(e){this.$emit(e.type.replace(/^on/,""),e)},reload(){this&&this.BMap&&this.$nextTick(()=>{this.unload(),this.$nextTick(this.load)})},unload(){const{map:t,originInstance:i}=this;try{switch(e.type){case"search":return i.clearResults();case"autoComplete":case"lushu":return i.dispose();case"markerClusterer":return i.clearMarkers();default:t[a[e.type].unload](i)}}catch(n){}}},this.computed={renderByParent(){return this.$parent.preventChildrenRender}},this.mounted=function(){const e=n(this.$parent),t=e.map,{ready:i}=this;t?i():e.$on("ready",i)},this.destroyed=s,this.beforeDestroy=s}}t["a"]=e=>new o({type:e})},"76ff":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"crumbs"},[i("el-breadcrumb",{attrs:{separator:"/"}},[i("el-breadcrumb-item",[i("i",{staticClass:"el-icon-lx-cascades"}),e._v(" 食品类型管理\n            ")])],1)],1),i("div",{staticClass:"container"},[i("div",{staticClass:"handle-box"},[i("el-button",{staticClass:"handle-del mr10",attrs:{type:"primary",icon:"el-icon-tickets"},on:{click:e.sixteen_categories}},[e._v("查看16大类食品类型")]),i("el-button",{staticClass:"handle-del mr10",attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("增加自定义食品类型")])],1),i("el-table",{ref:"multipleTable",staticClass:"table",staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"","header-cell-class-name":"table-header"}},[i("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[i("el-form-item",{attrs:{label:"自定义食品类型"}},[i("span",[e._v(e._s(t.row.type_name))])]),i("el-form-item",{attrs:{label:"创建时间"}},[i("span",[e._v(e._s(t.row.create_time))])]),i("el-form-item",{attrs:{label:"更新时间"}},[i("span",[e._v(e._s(t.row.last_update_time))])])],1)]}}])}),i("el-table-column",{attrs:{sortable:"",prop:"type_name",label:"自定义食品类型"}}),i("el-table-column",{attrs:{label:"操作",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{staticClass:"red",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(i){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),i("div",{staticClass:"pagination"},[i("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","current-page":e.query.pageIndex,"page-size":e.query.pageSize,total:e.pageTotal},on:{"current-change":e.handlePageChange}})],1)],1),i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"增加自定义食品类型",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("el-form",{attrs:{model:e.addform,rules:e.rules}},[i("el-form-item",{attrs:{prop:"food_type",label:"类型","label-width":e.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:e.addform.food_type,callback:function(t){e.$set(e.addform,"food_type",t)},expression:"addform.food_type"}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addnewsiinformation()}}},[e._v("确 定")])],1)],1),i("el-dialog",{attrs:{title:"十六大类食品类型",visible:e.sixteencategoriesVisible},on:{"update:visible":function(t){e.sixteencategoriesVisible=t}}},[i("el-table",{ref:"multipleTable",staticClass:"table",staticStyle:{width:"100%"},attrs:{data:e.sixteencategoriesdata,border:"","header-cell-class-name":"table-header"}},[i("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[i("el-form-item",{attrs:{label:"食品大类"}},[i("span",[e._v(e._s(t.row.type_name))])]),i("el-form-item",{attrs:{label:"创建时间"}},[i("span",[e._v(e._s(t.row.create_time))])]),i("el-form-item",{attrs:{label:"更新时间"}},[i("span",[e._v(e._s(t.row.last_update_time))])])],1)]}}])}),i("el-table-column",{attrs:{sortable:"",prop:"type_name",label:"食品大类"}})],1),i("div",{staticClass:"pagination"},[i("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","current-page":e.sixteencategoriesquery.pageIndex,"page-size":e.sixteencategoriesquery.pageSize,total:e.sixteencategoriesquery.pageTotal},on:{"current-change":e.handlesixteencategoriesPageChange}})],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.sixteencategoriesVisible=!1}}},[e._v("取 消")])],1)],1)],1)},n=[],s=(i("365c"),i("f81f")),o={components:{ElCheckbox:s["a"]},name:"foodtypemanagement",data:function(){return{searchname:"",rules:{food_type:[{required:!0,message:"请输入食品类型",trigger:"blur"}]},formLabelWidth:"70px",query:{address:"",name:"",pageIndex:1,pageSize:8},tableData:[],dialogFormVisible:!1,sixteencategoriesVisible:!1,pageTotal:0,form:{},idx:-1,id:-1,addform:{food_type:""},checked:!0,sixteencategoriesdata:[],sixteencategoriesquery:{address:"",name:"",pageIndex:1,pageSize:5,pageTotal:0},tag:""}},created:function(){this.getData()},methods:{getData:function(){var e=this;this.$axios.post("/ssplan/findplan",this.$qs.stringify({pageIndex:this.query.pageIndex,pageSize:this.query.pageSize})).then((function(t){if(null!=t){for(var i=0;i<t.data.data.list.length;i++){var a=t.data.data.list[0].task_json;a=JSON.parse(a),e.tableData[i]=a}e.pageTotal=t.data.data.total}}))},handleDelete:function(e,t){var i=this;this.$confirm("删除后抽检库中所有抽检点都将不包含该食品类型！！确定要删除吗？","提示",{type:"warning"}).then((function(){i.$axios.post("/sstype/deletecustomizecategories",i.$qs.stringify({id:t.id})).then((function(t){console.log(t),null!=t&&(i.$message.success("删除成功"),i.tableData.splice(e,1))}))})).catch((function(){}))},addnewsiinformation:function(){var e=this;this.$axios.post("/sstype/addcustomizecategories",this.$qs.stringify({food_type:this.addform.food_type})).then((function(t){null!=t&&(null!=e.addform.food_type?(e.$message.success("添加成功！"),e.getData()):e.$message.error("请填写所需信息"))}))},handlePageChange:function(e){this.$set(this.query,"pageIndex",e),this.getData()},sixteen_categories:function(){var e=this;this.sixteencategoriesVisible=!0,this.$axios.post("/sstype/findsixteencategories",this.$qs.stringify({pageIndex:this.sixteencategoriesquery.pageIndex,pageSize:this.sixteencategoriesquery.pageSize})).then((function(t){null!=t&&(e.sixteencategoriesdata=t.data.data,e.sixteencategoriesquery.pageTotal=16)}))},handlesixteencategoriesPageChange:function(e){this.$set(this.sixteencategoriesquery,"pageIndex",e),this.sixteen_categories()}}},r=o,l=(i("e847"),i("e44a"),i("4ac2")),c=Object(l["a"])(r,a,n,!1,null,"1d14f3a5",null);t["default"]=c.exports},"770f":function(e,t,i){"use strict";i("511a")},"7bb0":function(e,t,i){"use strict";i("3b11")},"87f9":function(e,t,i){"use strict";(function(e){i("9f60"),i("94f0"),i("0c84"),i("2843"),i("a450"),i("4057"),i("e680");var a=i("5e86"),n=i("3305");function s(e,t){var i="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=o(e))||t&&e&&"number"===typeof e.length){i&&(e=i);var a=0,n=function(){};return{s:n,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,r=!0,l=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){l=!0,s=e},f:function(){try{r||null==i.return||i.return()}finally{if(l)throw s}}}}function o(e,t){if(e){if("string"===typeof e)return r(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?r(e,t):void 0}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,a=new Array(t);i<t;i++)a[i]=e[i];return a}t["a"]={name:"bm-map",props:{ak:{type:String},center:{type:[Object,String]},zoom:{type:Number},minZoom:{type:Number},maxZoom:{type:Number},highResolution:{type:Boolean,default:!0},mapClick:{type:Boolean,default:!0},mapType:{type:String},dragging:{type:Boolean,default:!0},scrollWheelZoom:{type:Boolean,default:!1},doubleClickZoom:{type:Boolean,default:!0},keyboard:{type:Boolean,default:!0},inertialDragging:{type:Boolean,default:!0},continuousZoom:{type:Boolean,default:!0},pinchToZoom:{type:Boolean,default:!0},autoResize:{type:Boolean,default:!0},theme:{type:Array},mapStyle:{type:Object}},watch:{center:function(e,t){var i=this.map,a=this.zoom;"String"===Object(n["a"])(e)&&e!==t&&i.centerAndZoom(e,a)},"center.lng":function(e,t){var i=this.BMap,a=this.map,n=this.zoom,s=this.center;e!==t&&e>=-180&&e<=180&&a.centerAndZoom(new i.Point(e,s.lat),n)},"center.lat":function(e,t){var i=this.BMap,a=this.map,n=this.zoom,s=this.center;e!==t&&e>=-74&&e<=74&&a.centerAndZoom(new i.Point(s.lng,e),n)},zoom:function(e,t){var i=this.map;e!==t&&e>=3&&e<=19&&i.setZoom(e)},minZoom:function(e){var t=this.map;t.setMinZoom(e)},maxZoom:function(e){var t=this.map;t.setMaxZoom(e)},highResolution:function(){this.reset()},mapClick:function(){this.reset()},mapType:function(t){var i=this.map;i.setMapType(e[t])},dragging:function(e){var t=this.map;e?t.enableDragging():t.disableDragging()},scrollWheelZoom:function(e){var t=this.map;e?t.enableScrollWheelZoom():t.disableScrollWheelZoom()},doubleClickZoom:function(e){var t=this.map;e?t.enableDoubleClickZoom():t.disableDoubleClickZoom()},keyboard:function(e){var t=this.map;e?t.enableKeyboard():t.disableKeyboard()},inertialDragging:function(e){var t=this.map;e?t.enableInertialDragging():t.disableInertialDragging()},continuousZoom:function(e){var t=this.map;e?t.enableContinuousZoom():t.disableContinuousZoom()},pinchToZoom:function(e){var t=this.map;e?t.enablePinchToZoom():t.disablePinchToZoom()},autoResize:function(e){var t=this.map;e?t.enableAutoResize():t.disableAutoResize()},theme:function(e){var t=this.map;t.setMapStyle({styleJson:e})},"mapStyle.features":{handler:function(e,t){var i=this.map,a=this.mapStyle,n=a.style,s=a.styleJson;i.setMapStyle({styleJson:s,features:e,style:n})},deep:!0},"mapStyle.style":function(e,t){var i=this.map,a=this.mapStyle,n=a.features,s=a.styleJson;i.setMapStyle({styleJson:s,features:n,style:e})},"mapStyle.styleJson":{handler:function(e,t){var i=this.map,a=this.mapStyle,n=a.features,s=a.style;i.setMapStyle({styleJson:e,features:n,style:s})},deep:!0},mapStyle:function(e){var t=this.map,i=this.theme;!i&&t.setMapStyle(e)}},methods:{setMapOptions:function(){var t=this.map,i=this.minZoom,a=this.maxZoom,n=this.mapType,s=this.dragging,o=this.scrollWheelZoom,r=this.doubleClickZoom,l=this.keyboard,c=this.inertialDragging,u=this.continuousZoom,d=this.pinchToZoom,p=this.autoResize;i&&t.setMinZoom(i),a&&t.setMaxZoom(a),n&&t.setMapType(e[n]),s?t.enableDragging():t.disableDragging(),o?t.enableScrollWheelZoom():t.disableScrollWheelZoom(),r?t.enableDoubleClickZoom():t.disableDoubleClickZoom(),l?t.enableKeyboard():t.disableKeyboard(),c?t.enableInertialDragging():t.disableInertialDragging(),u?t.enableContinuousZoom():t.disableContinuousZoom(),d?t.enablePinchToZoom():t.disablePinchToZoom(),p?t.enableAutoResize():t.disableAutoResize()},init:function(e){if(!this.map){var t,i=this.$refs.view,n=s(this.$slots.default||[]);try{for(n.s();!(t=n.n()).done;){var o=t.value;o.componentOptions&&"bm-view"===o.componentOptions.tag&&(this.hasBmView=!0,i=o.elm)}}catch(h){n.e(h)}finally{n.f()}var r=new e.Map(i,{enableHighResolution:this.highResolution,enableMapClick:this.mapClick});this.map=r;var l=this.setMapOptions,c=this.zoom,u=this.getCenterPoint,d=this.theme,p=this.mapStyle;d?r.setMapStyle({styleJson:d}):r.setMapStyle(p),l(),a["a"].call(this,r),r.reset(),r.centerAndZoom(u(),c),this.$emit("ready",{BMap:e,map:r})}},getCenterPoint:function(){var e=this.center,t=this.BMap;switch(Object(n["a"])(e)){case"String":return e;case"Object":return new t.Point(e.lng,e.lat);default:return new t.Point}},initMap:function(e){this.BMap=e,this.init(e)},getMapScript:function(){if(e.BMap)return e.BMap._preloader?e.BMap._preloader:Promise.resolve(e.BMap);var t=this.ak||this._BMap().ak;return e.BMap={},e.BMap._preloader=new Promise((function(i,a){e._initBaiduMap=function(){i(e.BMap),e.document.body.removeChild(n),e.BMap._preloader=null,e._initBaiduMap=null};var n=document.createElement("script");e.document.body.appendChild(n),n.src="https://api.map.baidu.com/api?v=2.0&ak=".concat(t,"&callback=_initBaiduMap")})),e.BMap._preloader},reset:function(){var e=this.getMapScript,t=this.initMap;e().then(t)}},mounted:function(){this.reset()},data:function(){return{hasBmView:!1}}}}).call(this,i("2409"))},"8d07":function(e,t,i){"use strict";i("e603")},"92a7":function(e,t,i){"use strict";(function(e){i("1bc7"),i("e680");var a=i("73f3"),n=i("5e86"),s=i("a89e");t["a"]={name:"bm-info-window",mixins:[Object(a["a"])("overlay")],props:{show:{type:Boolean},position:{type:Object},title:{type:String},width:{type:Number},height:{type:Number},maxWidth:{type:Number},offset:{type:Object},maximize:{type:Boolean},autoPan:{type:Boolean},closeOnClick:{type:Boolean,default:!0},message:{type:String}},watch:{show:function(e){e?this.openInfoWindow():this.closeInfoWindow()},"position.lng":function(e,t){this.reload()},"position.lat":function(e,t){this.reload()},"offset.width":function(e,t){this.reload()},"offset.height":function(e){this.reload()},maxWidth:function(){this.reload()},width:function(e){this.originInstance.setWidth(e)},height:function(e){this.originInstance.setHeight(e)},title:function(e){this.originInstance.setTitle(e)},maximize:function(e){e?this.originInstance.enableMaximize():this.originInstance.disableMaximize()},autoPan:function(e){e?this.originInstance.enableAutoPan():this.originInstance.disableAutoPan()},closeOnClick:function(e){e?this.originInstance.enableCloseOnClick():this.originInstance.disableCloseOnClick()}},methods:{redraw:function(){this.originInstance.redraw()},load:function(){var e=this.BMap,t=this.map,i=this.show,a=this.title,o=this.width,r=this.height,l=this.maxWidth,c=this.offset,u=this.autoPan,d=this.closeOnClick,p=this.message,h=this.maximize,m=this.bindObserver,f=this.$parent,g=this.$el,b=new e.InfoWindow(g,{width:o,height:r,title:a,maxWidth:l,offset:Object(s["d"])(e,c),enableAutoPan:u,enableCloseOnClick:d,enableMessage:"undefined"===typeof p,message:p});h?b.enableMaximize():b.disableMaximize(),n["a"].call(this,b),this.originInstance=b,b.redraw(),[].forEach.call(g.querySelectorAll("img"),(function(e){e.onload=function(){return b.redraw()}})),m(),this.$container=f.originInstance&&f.originInstance.openInfoWindow?f.originInstance:t,i&&this.openInfoWindow()},bindObserver:function(){var t=e.MutationObserver;if(t){var i=this.$el,a=this.originInstance;this.observer=new t((function(e){return a.redraw()})),this.observer.observe(i,{attributes:!0,childList:!0,characterData:!0,subtree:!0})}},openInfoWindow:function(){var e=this.BMap,t=this.$container,i=this.position,a=this.originInstance;t.openInfoWindow(a,Object(s["c"])(e,i))},closeInfoWindow:function(){this.$container.closeInfoWindow(this.originInstance)}}}}).call(this,i("2409"))},"97d2":function(e,t,i){},a228:function(e,t,i){"use strict";i("4901")},a499:function(e,t,i){},a849:function(e,t,i){"use strict";i("e188")},a89e:function(e,t,i){"use strict";function a(e,t={}){const{lng:i,lat:a}=t;return new e.Point(i,a)}function n(e,t={}){const{width:i,height:a}=t;return new e.Size(i,a)}function s(e,t={}){const{url:i,size:a,opts:s={}}=t;return new e.Icon(i,n(e,a),{anchor:s.anchor&&n(e,s.anchor),imageSize:s.imageSize&&n(e,s.imageSize),imageOffset:s.imageOffset&&n(e,s.imageOffset),infoWindowAnchor:s.infoWindowAnchor&&n(e,s.infoWindowAnchor),printImageUrl:s.printImageUrl})}function o(e,t={}){const{content:i,opts:s}=t;return new e.Label(i,{offset:s.offset&&n(e,s.offset),position:s.position&&a(e,s.position),enableMassClear:s.enableMassClear})}i.d(t,"c",(function(){return a})),i.d(t,"d",(function(){return n})),i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return o}))},b4b7:function(e,t,i){"use strict";i("97d2")},bfe3:function(e,t,i){"use strict";i("2645")},d860:function(e,t,i){"use strict";i("1769")},dfba:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"crumbs"},[i("el-breadcrumb",{attrs:{separator:"/"}},[i("el-breadcrumb-item",[i("i",{staticClass:"el-icon-lx-cascades"}),e._v(" 抽检库管理\n            ")])],1)],1),i("div",{staticClass:"container"},[i("div",{staticClass:"handle-box"},[i("el-button",{staticClass:"handle-del mr10",attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("添加新的抽检库")]),i("el-button",{staticClass:"handle-del mr10",attrs:{type:"primary",icon:"el-icon-download"},on:{click:e.downLoad}},[e._v("下载excel模板")]),i("el-button",{staticClass:"handle-del mr10",attrs:{type:"primary",icon:"el-icon-upload2"},on:{click:function(t){e.uploadFormVisible=!0}}},[e._v("利用excel上传抽检库数据")]),i("el-button",{staticClass:"handle-del mr10",attrs:{type:"primary",icon:"el-icon-printer"},on:{click:e.viewprocessingprogress}},[e._v("查看excel处理进度")]),i("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"抽检点名称"},model:{value:e.searchname,callback:function(t){e.searchname=t},expression:"searchname"}}),i("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleSearch}},[e._v("搜索")])],1),i("el-table",{ref:"multipleTable",staticClass:"table",staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"","header-cell-class-name":"table-header"},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[i("el-form-item",{attrs:{label:"辖区"}},[i("span",[e._v(e._s(t.row.jurisdiction))])]),i("el-form-item",{attrs:{label:"类别"}},[i("span",[e._v(e._s(t.row.category))])]),i("el-form-item",{attrs:{label:"抽检点名称"}},[i("span",[e._v(e._s(t.row.ssl_name))])]),i("el-form-item",{attrs:{label:"地址"}},[i("span",[e._v(e._s(t.row.address))])]),i("el-form-item",{attrs:{label:"更新时间"}},[i("span",[e._v(e._s(t.row.last_update_time))])]),i("el-form-item",{attrs:{label:"创建时间"}},[i("span",[e._v(e._s(t.row.create_time))])]),i("el-form-item",{attrs:{label:"包含抽检食品类型"}},[i("span",[e._v(e._s(t.row.foodtype_ids))])])],1)]}}])}),i("el-table-column",{attrs:{sortable:"",prop:"jurisdiction",label:"辖区"}}),i("el-table-column",{attrs:{sortable:"",prop:"category",label:"类别"}}),i("el-table-column",{attrs:{sortable:"",prop:"ssl_name",label:"抽检点名称"}}),i("el-table-column",{attrs:{prop:"address",label:"地址"}}),i("el-table-column",{attrs:{label:"操作",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(i){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),i("el-button",{staticClass:"red",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(i){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")]),i("el-button",{attrs:{type:"text",icon:"el-icon-guide"},on:{click:function(i){return e.handfoodtype(t.$index,t.row)}}},[e._v("抽检食品类型管理")])]}}])})],1),i("div",{staticClass:"pagination"},[i("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","current-page":e.query.pageIndex,"page-size":e.query.pageSize,total:e.pageTotal},on:{"current-change":e.handlePageChange}})],1)],1),i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"编辑",visible:e.editVisible,width:"30%"},on:{"update:visible":function(t){e.editVisible=t}}},[i("el-form",{ref:"form",attrs:{model:e.form,"label-width":"70px"}},[i("el-form-item",{attrs:{label:"辖区"}},[i("el-input",{model:{value:e.form.jurisdiction,callback:function(t){e.$set(e.form,"jurisdiction",t)},expression:"form.jurisdiction"}})],1),i("el-form-item",{attrs:{label:"类别"}},[i("el-input",{model:{value:e.form.category,callback:function(t){e.$set(e.form,"category",t)},expression:"form.category"}})],1),i("el-form-item",{attrs:{label:"抽检点"}},[i("el-input",{model:{value:e.form.ssl_name,callback:function(t){e.$set(e.form,"ssl_name",t)},expression:"form.ssl_name"}})],1),i("el-form-item",{attrs:{label:"地址"}},[i("el-input",{model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),i("el-form-item",{attrs:{label:"食品类型"}},[i("el-input",{attrs:{disabled:!0},model:{value:e.form.foodtype_ids,callback:function(t){e.$set(e.form,"foodtype_ids",t)},expression:"form.foodtype_ids"}})],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.editVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.saveEdit}},[e._v("确 定")])],1)],1),i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"添加抽检点信息",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("el-form",{attrs:{model:e.addform,rules:e.rules}},[i("el-form-item",{attrs:{prop:"jurisdiction",label:"辖区","label-width":e.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:e.addform.jurisdiction,callback:function(t){e.$set(e.addform,"jurisdiction",t)},expression:"addform.jurisdiction"}})],1),i("el-form-item",{attrs:{prop:"category",label:"类别","label-width":e.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:e.addform.category,callback:function(t){e.$set(e.addform,"category",t)},expression:"addform.category"}})],1),i("el-form-item",{attrs:{prop:"ssl_name",label:"抽检点","label-width":e.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:e.addform.ssl_name,callback:function(t){e.$set(e.addform,"ssl_name",t)},expression:"addform.ssl_name"}})],1),i("el-form-item",{attrs:{prop:"address",label:"地址","label-width":e.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:e.addform.address,callback:function(t){e.$set(e.addform,"address",t)},expression:"addform.address"}})],1),i("el-form-item",{attrs:{label:"包含食品","label-width":e.formLabelWidth}},[i("el-checkbox-group",{model:{value:e.selectedfoodtypes,callback:function(t){e.selectedfoodtypes=t},expression:"selectedfoodtypes"}},e._l(e.foodtypes,(function(t){return i("el-checkbox",{key:t,attrs:{label:t}},[e._v(e._s(t))])})),1)],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addnewsiinformation()}}},[e._v("确 定")])],1)],1),i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"上传数据(excel请务必按照模板格式)",width:"30%",visible:e.uploadFormVisible},on:{"update:visible":function(t){e.uploadFormVisible=t}}},[i("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{limit:3,action:"","on-preview":e.handlePreview,"on-remove":e.handleRemove,"file-list":e.fileList,"show-file-list":!0,"http-request":e.uploadSectionFile,"on-exceed":e.fileexpandLimit,"auto-upload":!1}},[i("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")]),i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:e.submitUpload}},[e._v("上传到抽检库")]),i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传excel文件，且不超过500kb")])],1)],1),i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"食品类型管理",visible:e.foodtypeVisible,width:"30%"},on:{"update:visible":function(t){e.foodtypeVisible=t}}},[i("el-form",{ref:"form",attrs:{model:e.form,"label-width":"70px"}},[i("el-form-item",{attrs:{label:"已分配"}},[i("el-checkbox-group",{model:{value:e.againhavedistributenames,callback:function(t){e.againhavedistributenames=t},expression:"againhavedistributenames"}},e._l(e.havedistributenames,(function(t){return i("el-checkbox",{key:t,attrs:{label:t}},[e._v(e._s(t))])})),1)],1),i("el-form-item",{attrs:{label:"请选择"}},[i("el-checkbox-group",{model:{value:e.distributenames,callback:function(t){e.distributenames=t},expression:"distributenames"}},e._l(e.undistributenames,(function(t){return i("el-checkbox",{key:t,attrs:{label:t}},[e._v(e._s(t))])})),1)],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.foodtypeVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.saveDistribute}},[e._v("确 定")])],1)],1),i("el-dialog",{attrs:{title:"excel处理进度",visible:e.processExcelVisible},on:{"update:visible":function(t){e.processExcelVisible=t}}},[i("el-table",{ref:"multipleTable",staticClass:"table",staticStyle:{width:"100%"},attrs:{data:e.processexceldata,border:"","header-cell-class-name":"table-header"}},[i("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[i("el-form-item",{attrs:{label:"文件名"}},[i("span",[e._v(e._s(t.row.excel_name))])]),i("el-form-item",{attrs:{label:"总数目"}},[i("span",[e._v(e._s(t.row.total))])]),i("el-form-item",{attrs:{label:"成功数目"}},[i("span",[e._v(e._s(t.row.successtotal))])]),i("el-form-item",{attrs:{label:"重复数目"}},[i("span",[e._v(e._s(t.row.repeattotal))])]),i("el-form-item",{attrs:{label:"上传时间"}},[i("span",[e._v(e._s(t.row.create_time))])]),i("el-form-item",{attrs:{label:"处理进度"}},[i("span",[e._v(e._s(t.row.state))])])],1)]}}])}),i("el-table-column",{attrs:{sortable:"",prop:"excel_name",label:"文件名"}}),i("el-table-column",{attrs:{sortable:"",prop:"total",label:"总数目"}}),i("el-table-column",{attrs:{sortable:"",prop:"successtotal",label:"成功数目"}}),i("el-table-column",{attrs:{label:"处理进度",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-switch",{attrs:{disabled:!0,"active-text":"处理完成","inactive-text":"正在处理"},model:{value:t.row.state,callback:function(i){e.$set(t.row,"state",i)},expression:"scope.row.state"}})]}}])}),i("el-table-column",{attrs:{label:"操作",width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{staticClass:"red",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(i){return e.handleprocessexcelDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),i("div",{staticClass:"pagination"},[i("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","current-page":e.processexcelquery.pageIndex,"page-size":e.processexcelquery.pageSize,total:e.processexcelquery.pageTotal},on:{"current-change":e.handleProcessExcelPageChange}})],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"success"},on:{click:e.viewprocessingprogress}},[e._v("刷 新")]),i("el-button",{on:{click:function(t){e.processExcelVisible=!1}}},[e._v("取 消")])],1)],1)],1)},n=[],s=(i("fc02"),i("4057"),i("a450"),i("365c"),i("f81f")),o={components:{ElCheckbox:s["a"]},name:"samplinglibrary",data:function(){return{searchname:"",rules:{jurisdiction:[{required:!0,message:"请输入辖区",trigger:"blur"}],category:[{required:!0,message:"请输入类别",trigger:"blur"}],ssl_name:[{required:!0,message:"请输入抽检点名称",trigger:"blur"}],address:[{required:!0,message:"请输入抽检点的地址",trigger:"blur"}]},formLabelWidth:"70px",query:{address:"",name:"",pageIndex:1,pageSize:8},tableData:[],selectedfoodtypes:[],foodtypes:[],multipleSelection:[],delList:[],editVisible:!1,uploadFormVisible:!1,foodtypeVisible:!1,dialogFormVisible:!1,processExcelVisible:!1,pageTotal:0,form:{},idx:-1,id:-1,addform:{jurisdiction:"",category:"",ssl_name:"",address:""},distributenames:[],undistributenames:[],havedistributenames:[],againhavedistributenames:[],checked:!0,fileList:[],processexceldata:[],processexcelquery:{address:"",name:"",pageIndex:1,pageSize:5,pageTotal:0}}},created:function(){this.getData()},methods:{getData:function(){var e=this;this.$axios.post("/sslibrary/getalllibrary",this.$qs.stringify({searchname:this.searchname,pageIndex:this.query.pageIndex,pageSize:this.query.pageSize})).then((function(t){if(null!=t){e.foodtypes=[],e.tableData=t.data.data.sysSamplingLibraries;for(var i=0;i<t.data.data.foodTypes.length;i++)e.foodtypes[i]=t.data.data.foodTypes[i].type_name;e.pageTotal=t.data.data.pageTotal}}))},handleSearch:function(){this.$set(this.query,"pageIndex",1),this.getData()},handleDelete:function(e,t){var i=this;this.$confirm("确定要删除吗？","提示",{type:"warning"}).then((function(){i.$axios.post("/sslibrary/deletesamplinglibrarybyid",i.$qs.stringify({id:t.id})).then((function(t){null!=t&&(i.$message.success("删除成功"),i.tableData.splice(e,1))}))})).catch((function(){}))},handleSelectionChange:function(e){this.multipleSelection=e},delAllSelection:function(){var e=this.multipleSelection.length,t="";this.delList=this.delList.concat(this.multipleSelection);for(var i=0;i<e;i++)t+=this.multipleSelection[i].name+" ";this.$message.error("删除了".concat(t)),this.multipleSelection=[]},handleEdit:function(e,t){this.idx=e,this.form=t,this.editVisible=!0},saveEdit:function(){var e=this;this.editVisible=!1,this.$axios.post("/sslibrary/updatesamplinglibrarybyid",this.$qs.stringify({id:this.form.id,jurisdiction:this.form.jurisdiction,category:this.form.category,ssl_name:this.form.ssl_name,address:this.form.address})).then((function(t){null!=t?(e.$set(e.tableData,e.idx,e.form),e.$message.success("修改成功！"),e.getData()):e.getData()}))},addnewsiinformation:function(){var e=this;this.$axios.post("/sslibrary/addnewsamplinglibrary",this.$qs.stringify({category:this.addform.category,jurisdiction:this.addform.jurisdiction,ssl_name:this.addform.ssl_name,address:this.addform.address,selectedfoodtypes:this.selectedfoodtypes.toString()})).then((function(t){null!=t&&(null!=e.addform.category&&null!=e.addform.jurisdiction&&null!=e.addform.ssl_name&&null!=e.addform.address?(e.$message.success("添加成功！"),e.getData()):e.$message.error("请填写所需信息"))}))},handlePageChange:function(e){this.$set(this.query,"pageIndex",e),this.getData()},handfoodtype:function(e,t){var i=this;this.idx=e,this.form=t,this.havedistributenames=[];var a=this.form.foodtype_ids;if(null!=a){var n=new Array;n=a.split("-");for(var s=0;s<n.length;s++)this.havedistributenames[s]=n[s]}this.againhavedistributenames=this.havedistributenames,this.$axios.post("/sstype/findalltypebyadminid",this.$qs.stringify({id:this.form.id})).then((function(e){if(null!=e){i.undistributenames=[];for(var t=0,a=0;a<e.data.data.length;a++){for(var n=1,s=e.data.data[a].type_name,o=0;o<i.havedistributenames.length;o++)if(i.havedistributenames[o]==s){n=0;break}1==n&&(i.undistributenames[t++]=s)}i.foodtypeVisible=!0}}))},saveDistribute:function(){var e=this;this.foodtypeVisible=!1,this.$axios.post("/sslibrary/savesamplingtype",this.$qs.stringify({distributenames:this.distributenames.toString(),againhavedistributenames:this.againhavedistributenames.toString(),insaccountid:this.form.id})).then((function(t){null!=t&&(e.getData(),e.$message.success("分配成功"))})),this.distributenames=[]},submitUpload:function(){this.$refs.upload.submit()},uploadSectionFile:function(e){var t=this,i=new FormData;i.set("file",e.file);var a=e.file.name,n=new Array;n=String(a).split("."),"xls"==n[1]||"xlsx"==n[1]?this.$axios.post("/sslibrary/uploadbyexcel",i,{headers:{"Content-type":"multipart/form-data"},onUploadProgress:function(t){var i=t.loaded/t.total*100|0;e.onProgress({percent:i})}}).then((function(e){null!=e&&t.$message.success("上传成功 查看详细情况请点击excel处理进度")})):this.$message.error("上传的文件不是excel")},handleRemove:function(e,t){this.$message.success("移除"+e.name+"成功")},handlePreview:function(e){console.log(e)},fileexpandLimit:function(e,t){this.$message.error("已上传文件超出限制，请删除后重试！")},viewprocessingprogress:function(){var e=this;this.processExcelVisible=!0,this.$axios.post("/sepp/getall",this.$qs.stringify({pageIndex:this.processexcelquery.pageIndex,pageSize:this.processexcelquery.pageSize})).then((function(t){null!=t&&(e.processexceldata=t.data.data.ExcelProcessingProgress,e.processexcelquery.pageTotal=t.data.data.pageTotal)}))},handleProcessExcelPageChange:function(e){this.$set(this.processexcelquery,"pageIndex",e),this.viewprocessingprogress()},handleprocessexcelDelete:function(e,t){var i=this;this.$confirm("确定要删除吗？","提示",{type:"warning"}).then((function(){0!=t.state?i.$axios.post("/sepp/deleteexcel",i.$qs.stringify({id:t.id})).then((function(t){null!=t&&(i.$message.success("删除成功"),i.processexceldata.splice(e,1))})):i.$message.error("正在传入数据，不可删除")})).catch((function(){}))},downLoad:function(){window.open(this.$axios.defaults.baseURL+"/sslibrary/download","_blank")}}},r=o,l=(i("f4eb"),i("a849"),i("4ac2")),c=Object(l["a"])(r,a,n,!1,null,"46110c86",null);t["default"]=c.exports},dfe4:function(e,t,i){"use strict";(function(e){i("d91d"),i("e680");var a=i("a89e"),n=i("3305"),s=i("73f3");t["a"]={name:"bm-transit",mixins:[Object(s["a"])("search")],props:{location:{type:[Object,String]},start:{type:[Object,String]},end:{type:[Object,String]},panel:{type:Boolean,default:!0},policy:{type:String},pageCapacity:{type:Number},autoViewport:{type:Boolean},selectFirstResult:{type:Boolean}},watch:{location:{handler:function(e){var t=this.originInstance,i=this.map;t.setLocation(e||i)},deep:!0},start:{handler:function(e){var t=this.originInstance,i=this.end,a=this.BMap;t.search(Object(n["b"])(a,e),Object(n["b"])(a,i))},deep:!0},end:{handler:function(e){var t=this.originInstance,i=this.start,a=this.BMap;t.search(Object(n["b"])(a,i),Object(n["b"])(a,e))},deep:!0},panel:function(){this.reload()},policy:function(t){this.originInstance.setPolicy(e[t])},pageCapacity:function(e){this.originInstance&&this.originInstance.setPageCapacity(e)},autoViewport:function(e){this.originInstance&&(e?this.originInstance.enableAutoViewport():this.originInstance.disableAutoViewport())},selectFirstResult:function(){this.reload()},highlightMode:function(){this.reload()}},methods:{search:function(e,t){var i=this.originInstance;i.search(e,t)},load:function(){var t=this,i=this.map,s=this.BMap,o=this.location,r=this.policy,l=this.pageCapacity,c=this.selectFirstResult,u=this.autoViewport,d=this.highlightMode,p=this.search,h=this.start,m=this.end,f=this.originInstance,g=o?Object(n["c"])(o)?Object(a["c"])(s,o):o:i,b=this.originInstance=new s.TransitRoute(g,{renderOptions:{map:i,panel:this.$el,selectFirstResult:c,autoViewport:u,highlightMode:d},policy:e[r],pageCapacity:l,onSearchComplete:function(e){f&&f!==b&&f.clearResults(),t.$emit("searchcomplete",e)},onMarkersSet:function(e){t.$emit("markersset",e)},onInfoHtmlSet:function(e){t.$emit("infohtmlset",e)},onPolylinesSet:function(e){t.$emit("polylinesset",e)},onResultsHtmlSet:function(e){t.$emit("resultshtmlset",e)}});p(Object(n["c"])(h)?Object(a["c"])(s,h):h,Object(n["c"])(m)?Object(a["c"])(s,m):m)}}}}).call(this,i("2409"))},e117:function(e,t,i){"use strict";i("a499")},e188:function(e,t,i){},e44a:function(e,t,i){"use strict";i("fff6")},e56b:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"crumbs"},[i("el-breadcrumb",{attrs:{separator:"/"}},[i("el-breadcrumb-item",[i("i",{staticClass:"el-icon-lx-cascades"}),e._v(" 该计划的抽检信息\n            ")])],1)],1),i("div",{staticClass:"container"},[i("el-table",{ref:"multipleTable",staticClass:"table",staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"","header-cell-class-name":"table-header"}},[i("el-table-column",{attrs:{sortable:"",prop:"spot_check_location",label:"抽检地点"}}),i("el-table-column",{attrs:{sortable:"",prop:"sampling_food_type",label:"抽检食品类别"}}),i("el-table-column",{attrs:{sortable:"",prop:"food_specific_name",label:"具体抽检食品"}}),i("el-table-column",{attrs:{sortable:"",prop:"food_counts",label:"数量"}}),i("el-table-column",{attrs:{sortable:"",prop:"sampler",label:"抽检人"}}),i("el-table-column",{attrs:{sortable:"",prop:"remarks",label:"备注"}}),i("el-table-column",{attrs:{sortable:"",prop:"sampling_time",label:"抽检时间"},scopedSlots:e._u([{key:"default",fn:function(t){return i("span",{},[e._v(e._s(e.dateFormat("YYYY-mm-dd HH:MM",t.row.sampling_time)))])}}])}),i("el-table-column",{attrs:{label:"操作",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"text",icon:"el-icon-tickets"},on:{click:function(i){return e.seeimage(t.$index,t.row)}}},[e._v("查看图片")])]}}])})],1),i("div",{staticClass:"pagination"},[i("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","current-page":e.query.pageIndex,"page-size":e.query.pageSize,total:e.pageTotal},on:{"current-change":e.handlePageChange}})],1)],1),i("el-dialog",{attrs:{title:"提示",width:"30%","before-close":e.handleClose},scopedSlots:e._u([{key:"footer",fn:function(){return[i("span",{staticClass:"dialog-footer"},[i("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("确 定")])],1)]},proxy:!0}]),model:{value:e.dialogVisible,callback:function(t){e.dialogVisible=t},expression:"dialogVisible"}},[i("span",[e._v("这是一段信息")])]),i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"查看图片",visible:e.dialogVisible,width:"40%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("div",{staticClass:"demo-image__lazy"},e._l(e.srcList,(function(t){return i("el-image",{key:t,attrs:{src:t,"preview-src-list":e.srcList,lazy:""}},[e._v("\n                        lazy>")])})),1)])],1)},n=[],s=(i("b89a"),i("8dee"),i("3269"),i("4057"),i("a450"),i("365c"),i("f81f")),o={components:{ElCheckbox:s["a"]},name:"foodnamelist",data:function(){return{formLabelWidth:"70px",query:{address:"",name:"",pageIndex:1,pageSize:8},tableData:[],pageTotal:0,form:{},idx:-1,id:-1,dialogVisible:!1,srcList:[]}},created:function(){this.id=this.$route.query.id,this.getData()},mounted:function(){},watch:{$route:function(e,t){this.id=e.query.id;var i="SamplingFoodList";e.name==i&&this.getData()}},methods:{getData:function(){var e=this;this.$axios.post("/samplingFoodList/findAllBySspId",this.$qs.stringify({id:this.id,pageIndex:this.query.pageIndex,pageSize:this.query.pageSize})).then((function(t){null!=t&&(e.tableData=t.data.data.listres,e.pageTotal=t.data.data.total)}))},handleDelete:function(e,t){var i=this;this.$confirm("确定要删除吗？（已完成任务不允许删除）","提示",{type:"warning"}).then((function(){i.$axios.post("/ssplan/deleteplan",i.$qs.stringify({id:t.id})).then((function(t){null!=t&&(i.$message.success("删除成功"),i.tableData.splice(e,1))}))})).catch((function(){}))},seeimage:function(e,t){var i=this,a=[];this.$axios.post("/samplingFoodList/selectImages",this.$qs.stringify({id:t.id})).then((function(e){if(null!=e){var t=e.data.data;t=JSON.parse(t);for(var n=0;n<t.url.length;n++)a[n]=i.$axios.defaults.baseURL+t.url[n];i.srcList=a}})),this.dialogVisible=!0},handlePageChange:function(e){this.$set(this.query,"pageIndex",e),this.getData(this.completeorundo)},filterTag:function(e,t){return t.state===e},dateFormat:function(e,t){var i="";t=new Date(t);var a={"Y+":t.getFullYear().toString(),"m+":(t.getMonth()+1).toString(),"d+":t.getDate().toString(),"H+":t.getHours().toString(),"M+":t.getMinutes().toString(),"S+":t.getSeconds().toString()};for(var n in a)i=new RegExp("("+n+")").exec(e),i&&(e=e.replace(i[1],1==i[1].length?a[n]:a[n].padStart(i[1].length,"0")));return e},handleClose:function(e){this.$confirm("确认关闭？").then((function(t){e()})).catch((function(e){}))}}},r=o,l=(i("bfe3"),i("a228"),i("4ac2")),c=Object(l["a"])(r,a,n,!1,null,"2e593ab1",null);t["default"]=c.exports},e600:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"crumbs"},[i("el-breadcrumb",{attrs:{separator:"/"}},[i("el-breadcrumb-item",[i("i",{staticClass:"el-icon-lx-cascades"}),e._v(" 已生成的抽检计划\n            ")])],1)],1),i("div",{staticClass:"container"},[i("div",{staticClass:"handle-box"},[i("el-button",{staticClass:"handle-del mr10",attrs:{type:"primary",icon:"el-icon-circle-check"},on:{click:function(t){return e.seecompleted()}}},[e._v("查看已完成抽检计划")]),i("el-button",{staticClass:"handle-del mr10",attrs:{type:"primary",icon:"el-icon-circle-close"},on:{click:function(t){return e.seeundone()}}},[e._v("查看未完成抽检计划")])],1),i("el-table",{ref:"multipleTable",staticClass:"table",staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"","header-cell-class-name":"table-header"}},[i("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.groupList,(function(t,a){return i("li",[i("span",[e._v("第"+e._s(a+1)+"组")]),i("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[i("el-form-item",{attrs:{label:"抽检员"}},[i("span",[e._v(" "+e._s(t.names))])]),i("el-form-item",{attrs:{label:"抽检主体"}},[i("span",[e._v(" "+e._s(t.account))])]),i("el-form-item",{attrs:{label:"接受任务时间"}},[i("span",[e._v(" "+e._s(t.acceptTimeStamp))])]),i("el-form-item",{attrs:{label:"完成任务时间"}},[i("span",[e._v(" "+e._s(t.finishTimeStamp))])]),i("el-form-item",{attrs:{label:"抽检地点顺序"}},e._l(t.samplingPointsNames,(function(a,n){return i("a",[i("span",[e._v(" "+e._s(a))]),n!=t.samplingPointsNames.length-1?i("span",[e._v(" >>")]):e._e()])})),0),i("el-form-item",{attrs:{label:"抽检地址顺序"}},e._l(t.samplePlanInfoTableList.length,(function(a){return i("a",[i("span",[e._v(e._s(t.samplePlanInfoTableList[a-1].address))]),i("span",[e._v("(该位置抽检状况："+e._s(t.samplePlanInfoTableList[a-1].state)+")")]),i("span",[e._v("(该位置抽检食品类型：")]),e._l(t.samplePlanInfoTableList[a-1].sampleofoodlist.length,(function(n){return i("a",[i("span",[e._v(e._s(t.samplePlanInfoTableList[a-1].sampleofoodlist[n-1].foodtype))]),n!=t.samplePlanInfoTableList[a-1].sampleofoodlist.length?i("span",[e._v("  ++ ")]):e._e()])})),i("span",[e._v(")")]),a!=t.samplePlanInfoTableList.length?i("span",[e._v(" >>")]):e._e()],2)})),0)],1)],1)}))}}])}),i("el-table-column",{attrs:{sortable:"",prop:"startPoint",label:"起始点"}}),i("el-table-column",{attrs:{sortable:"",prop:"samplingnames",label:"抽检点"}}),i("el-table-column",{attrs:{sortable:"",prop:"foodtypes",label:"抽检食品"}}),i("el-table-column",{attrs:{sortable:"",prop:"createTimeStamp",label:"开始时间"},scopedSlots:e._u([{key:"default",fn:function(t){return i("span",{},[e._v(e._s(e.dateFormat("YYYY-mm-dd HH:MM",t.row.createTimeStamp)))])}}])}),i("el-table-column",{attrs:{prop:"state",label:"标签",width:"100",filters:[{text:"未完成",value:"未完成"},{text:"完成",value:"完成"}],"filter-method":e.filterTag,"filter-placement":"bottom-end"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-tag",{attrs:{type:"未完成"===t.row.state?"primary":"success","disable-transitions":""}},[e._v(e._s(t.row.state))])]}}])}),i("el-table-column",{attrs:{label:"操作",width:"160",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("router-link",{attrs:{to:{path:"sampling_food_list",query:{id:t.row.id}}}},[i("el-button",{attrs:{type:"text",icon:"el-icon-tickets"}},[e._v("\n                        查看")])],1),i("el-button",{staticClass:"red",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(i){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),i("div",{staticClass:"pagination"},[i("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","current-page":e.query.pageIndex,"page-size":e.query.pageSize,total:e.pageTotal},on:{"current-change":e.handlePageChange}})],1)],1)])},n=[],s=(i("b89a"),i("8dee"),i("3269"),i("4057"),i("365c"),i("f81f")),o={components:{ElCheckbox:s["a"]},name:"foodtypemanagement",data:function(){return{formLabelWidth:"70px",query:{address:"",name:"",pageIndex:1,pageSize:8},tableData:[],tableshow:!1,pageTotal:0,form:{},idx:-1,id:-1,completeorundo:-1}},created:function(){this.getData(-1)},mounted:function(){},methods:{getData:function(e){var t=this,i=[];this.$axios.post("/ssplan/findplan",this.$qs.stringify({val:e,pageIndex:this.query.pageIndex,pageSize:this.query.pageSize})).then((function(e){if(null!=e){for(var a=0;a<e.data.data.list.length;a++){var n=e.data.data.list[a].task_json;n=JSON.parse(n);for(var s="",o=n.samplingnames.length,r=0;r<o;r++)s+=n.samplingnames[r],r!=o-1&&(s+=" - ");n.samplingnames=s;var l="";for(o=n.foodtypes.length,r=0;r<o;r++)l+=n.foodtypes[r],r!=o-1&&(l+=" - ");n.foodtypes=l,n.id=e.data.data.list[a].id,i[a]=n}t.tableData=i,t.pageTotal=e.data.data.total}}))},handleDelete:function(e,t){var i=this;this.$confirm("确定要删除吗？（已完成任务不允许删除）","提示",{type:"warning"}).then((function(){i.$axios.post("/ssplan/deleteplan",i.$qs.stringify({id:t.id})).then((function(t){null!=t&&(i.$message.success("删除成功"),i.tableData.splice(e,1))}))})).catch((function(){}))},handleview:function(e,t){this.$router.push({name:"SamplingFoodList",params:{id:t.id}})},seecompleted:function(){this.completeorundo=1,this.getData(1)},seeundone:function(){this.completeorundo=0,this.getData(0)},handlePageChange:function(e){this.$set(this.query,"pageIndex",e),this.getData(this.completeorundo)},filterTag:function(e,t){return t.state===e},dateFormat:function(e,t){var i="";t=new Date(t);var a={"Y+":t.getFullYear().toString(),"m+":(t.getMonth()+1).toString(),"d+":t.getDate().toString(),"H+":t.getHours().toString(),"M+":t.getMinutes().toString(),"S+":t.getSeconds().toString()};for(var n in a)i=new RegExp("("+n+")").exec(e),i&&(e=e.replace(i[1],1==i[1].length?a[n]:a[n].padStart(i[1].length,"0")));return e}}},r=o,l=(i("fa97"),i("8d07"),i("4ac2")),c=Object(l["a"])(r,a,n,!1,null,"2e1d07fe",null);t["default"]=c.exports},e603:function(e,t,i){},e847:function(e,t,i){"use strict";i("7030")},ed36:function(e,t,i){"use strict";i("4c06")},f4eb:function(e,t,i){"use strict";i("f5e9")},f5e9:function(e,t,i){},f6f9:function(e,t,i){"use strict";(function(e){i("e680");var a=i("73f3"),n=i("5e86"),s=i("a89e");t["a"]={name:"bm-marker",mixins:[Object(a["a"])("overlay")],props:{position:{},offset:{},icon:{},massClear:{type:Boolean,default:!0},dragging:{type:Boolean,default:!1},clicking:{type:Boolean,default:!0},raiseOnDrag:{type:Boolean,default:!1},draggingCursor:{type:String},rotation:{type:Number},shadow:{type:Object},title:{type:String},label:{type:Object},animation:{type:String},top:{type:Boolean,default:!1},zIndex:{type:Number,default:0}},watch:{"position.lng":function(e,t){var i=this.BMap,a=this.originInstance,n=this.position,o=this.renderByParent,r=this.$parent;e!==t&&e>=-180&&e<=180&&a.setPosition(Object(s["c"])(i,{lng:e,lat:n.lat})),o&&r.reload()},"position.lat":function(e,t){var i=this.BMap,a=this.originInstance,n=this.position,o=this.renderByParent,r=this.$parent;e!==t&&e>=-74&&e<=74&&a.setPosition(Object(s["c"])(i,{lng:n.lng,lat:e})),o&&r.reload()},"offset.width":function(e,t){var i=this.BMap,a=this.originInstance;e!==t&&a.setOffset(new i.Size(e,this.offset.height))},"offset.height":function(e,t){var i=this.BMap,a=this.originInstance;e!==t&&a.setOffset(new i.Size(this.offset.width,e))},icon:{deep:!0,handler:function(e){var t=this.BMap,i=this.originInstance,a=this.rotation;i&&i.setIcon(Object(s["a"])(t,e)),a&&i&&i.setRotation(a)}},massClear:function(e){e?this.originInstance.enableMassClear():this.originInstance.disableMassClear()},dragging:function(e){e?this.originInstance.enableDragging():this.originInstance.disableDragging()},clicking:function(){this.reload()},raiseOnDrag:function(){this.reload()},draggingCursor:function(e){this.originInstance.setDraggingCursor(e)},rotation:function(e){this.originInstance.setRotation(e)},shadow:function(e){this.originInstance.setShadow(e)},title:function(e){this.originInstance.setTitle(e)},label:function(e){this.reload()},animation:function(t){this.originInstance.setAnimation(e[t])},top:function(e){this.originInstance.setTop(e)},zIndex:function(e){this.originInstance.setZIndex(e)}},methods:{load:function(){var t=this.BMap,i=this.map,a=this.position,o=this.offset,r=this.icon,l=this.massClear,c=this.dragging,u=this.clicking,d=this.raiseOnDrag,p=this.draggingCursor,h=this.rotation,m=this.shadow,f=this.title,g=this.label,b=this.animation,y=this.top,v=this.renderByParent,_=this.$parent,x=this.zIndex,k=new t.Marker(new t.Point(a.lng,a.lat),{offset:o,icon:r&&Object(s["a"])(t,r),enableMassClear:l,enableDragging:c,enableClicking:u,raiseOnDrag:d,draggingCursor:p,rotation:h,shadow:m,title:f});this.originInstance=k,g&&k&&k.setLabel(Object(s["b"])(t,g)),k.setTop(y),k.setZIndex(x),n["a"].call(this,k),v?_.reload():i.addOverlay(k),k.setAnimation(e[b])}}}}).call(this,i("2409"))},f81f:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"el-checkbox",class:[e.border&&e.checkboxSize?"el-checkbox--"+e.checkboxSize:"",{"is-disabled":e.isDisabled},{"is-bordered":e.border},{"is-checked":e.isChecked}],attrs:{id:e.id}},[i("span",{staticClass:"el-checkbox__input",class:{"is-disabled":e.isDisabled,"is-checked":e.isChecked,"is-indeterminate":e.indeterminate,"is-focus":e.focus},attrs:{tabindex:!!e.indeterminate&&0,role:!!e.indeterminate&&"checkbox","aria-checked":!!e.indeterminate&&"mixed"}},[i("span",{staticClass:"el-checkbox__inner"}),e.trueLabel||e.falseLabel?i("input",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],staticClass:"el-checkbox__original",attrs:{type:"checkbox","aria-hidden":e.indeterminate?"true":"false",name:e.name,disabled:e.isDisabled,"true-value":e.trueLabel,"false-value":e.falseLabel},domProps:{checked:Array.isArray(e.model)?e._i(e.model,null)>-1:e._q(e.model,e.trueLabel)},on:{change:[function(t){var i=e.model,a=t.target,n=a.checked?e.trueLabel:e.falseLabel;if(Array.isArray(i)){var s=null,o=e._i(i,s);a.checked?o<0&&(e.model=i.concat([s])):o>-1&&(e.model=i.slice(0,o).concat(i.slice(o+1)))}else e.model=n},e.handleChange],focus:function(t){e.focus=!0},blur:function(t){e.focus=!1}}}):i("input",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],staticClass:"el-checkbox__original",attrs:{type:"checkbox","aria-hidden":e.indeterminate?"true":"false",disabled:e.isDisabled,name:e.name},domProps:{value:e.label,checked:Array.isArray(e.model)?e._i(e.model,e.label)>-1:e.model},on:{change:[function(t){var i=e.model,a=t.target,n=!!a.checked;if(Array.isArray(i)){var s=e.label,o=e._i(i,s);a.checked?o<0&&(e.model=i.concat([s])):o>-1&&(e.model=i.slice(0,o).concat(i.slice(o+1)))}else e.model=n},e.handleChange],focus:function(t){e.focus=!0},blur:function(t){e.focus=!1}}})]),e.$slots.default||e.label?i("span",{staticClass:"el-checkbox__label"},[e._t("default"),e.$slots.default?e._e():[e._v(e._s(e.label))]],2):e._e()])},n=[],s=(i("e680"),i("4057"),i("51b9")),o={name:"ElCheckbox",mixins:[s["a"]],inject:{elForm:{default:""},elFormItem:{default:""}},componentName:"ElCheckbox",data:function(){return{selfModel:!1,focus:!1,isLimitExceeded:!1}},computed:{model:{get:function(){return this.isGroup?this.store:void 0!==this.value?this.value:this.selfModel},set:function(e){this.isGroup?(this.isLimitExceeded=!1,void 0!==this._checkboxGroup.min&&e.length<this._checkboxGroup.min&&(this.isLimitExceeded=!0),void 0!==this._checkboxGroup.max&&e.length>this._checkboxGroup.max&&(this.isLimitExceeded=!0),!1===this.isLimitExceeded&&this.dispatch("ElCheckboxGroup","input",[e])):(this.$emit("input",e),this.selfModel=e)}},isChecked:function(){return"[object Boolean]"==={}.toString.call(this.model)?this.model:Array.isArray(this.model)?this.model.indexOf(this.label)>-1:null!==this.model&&void 0!==this.model?this.model===this.trueLabel:void 0},isGroup:function(){var e=this.$parent;while(e){if("ElCheckboxGroup"===e.$options.componentName)return this._checkboxGroup=e,!0;e=e.$parent}return!1},store:function(){return this._checkboxGroup?this._checkboxGroup.value:this.value},isLimitDisabled:function(){var e=this._checkboxGroup,t=e.max,i=e.min;return!(!t&&!i)&&this.model.length>=t&&!this.isChecked||this.model.length<=i&&this.isChecked},isDisabled:function(){return this.isGroup?this._checkboxGroup.disabled||this.disabled||(this.elForm||{}).disabled||this.isLimitDisabled:this.disabled||(this.elForm||{}).disabled},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},checkboxSize:function(){var e=this.size||this._elFormItemSize||(this.$ELEMENT||{}).size;return this.isGroup&&this._checkboxGroup.checkboxGroupSize||e}},props:{value:{},label:{},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:String,trueLabel:[String,Number],falseLabel:[String,Number],id:String,controls:String,border:Boolean,size:String},methods:{addToStore:function(){Array.isArray(this.model)&&-1===this.model.indexOf(this.label)?this.model.push(this.label):this.model=this.trueLabel||!0},handleChange:function(e){var t,i=this;this.isLimitExceeded||(t=e.target.checked?void 0===this.trueLabel||this.trueLabel:void 0!==this.falseLabel&&this.falseLabel,this.$emit("change",t,e),this.$nextTick((function(){i.isGroup&&i.dispatch("ElCheckboxGroup","change",[i._checkboxGroup.value])})))}},created:function(){this.checked&&this.addToStore()},mounted:function(){this.indeterminate&&this.$el.setAttribute("aria-controls",this.controls)},watch:{value:function(e){this.dispatch("ElFormItem","el.form.change",e)}}},r=o,l=i("4ac2"),c=Object(l["a"])(r,a,n,!1,null,null,null);t["a"]=c.exports},fa97:function(e,t,i){"use strict";i("207f")},fff6:function(e,t,i){}}]);